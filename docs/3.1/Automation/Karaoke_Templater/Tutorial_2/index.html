<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
<title>Tutorial 2 - Aegisub Manual</title>
<meta content='Aegisub, Subtitles, VSFilter, Medusa, Sabbu, ' name='Keywords'>
<meta content='http://www.aegisub.org/' name='Author'>
<meta content='Copyright (C) 2012 Aegisub Project.' name='Copyright'>
<link href="../../../img/favicon.ico" rel="icon" type="image/ico" />
<link href="../../../css/style-144d38ad.css" media="screen" rel="stylesheet" type="text/css" />
</head>
<body>
<div class='navbar navbar-fixed-top'>
<div class='navbar-inner'>
<div class='container-fluid'>
<a class="brand" style="padding: 3px 10px" href="http://www.aegisub.org/"><img alt="Aegisub" width="82" height="33" src="../../../img/logo-top-bar-aeef0634.png" />
</a>
<ul class='nav'>
<li>
<a href="http://www.aegisub.org/">Home</a>
</li>
<li>
<a href="http://blog.aegisub.org">News</a>
</li>
<li>
<a href="http://www.aegisub.org/downloads/">Downloads</a>
</li>
<li class='active'>
<a href="../../index.html">Manual</a>
</li>
<li>
<a href="http://devel.aegisub.org">Bug Tracker</a>
</li>
<li>
<a href="http://forum.aegisub.org">Forum</a>
</li>
<li>
<a href="irc://irc.rizon.net/aegisub">IRC</a>
</li>
</ul>
<ul class='nav pull-right'>
<li>
<form action='https://www.paypal.com/cgi-bin/webscr' method='post' style='padding: 13px 0 6px 0; margin: 0' target='_top'>
<input name='cmd' type='hidden' value='_s-xclick'>
<input name='encrypted' type='hidden' value='-----BEGIN PKCS7-----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-----END PKCS7-----'>
<input alt='PayPal - The safer, easier way to pay online!' border='0' name='submit' src='https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif' type='image'>
<img alt='' border='0' height='1' src='https://www.paypalobjects.com/en_US/i/scr/pixel.gif' width='1'>
</form>
</li>
<li>
<a href='http://flattr.com/thing/922938/Aegisub-Advanced-Subtitle-Editor' target='_blank'>
<img alt='Flattr this' src='http://api.flattr.com/button/flattr-badge-large.png' title='Flattr this'>
</a>
</li>
</ul>
</div>
</div>
</div>
<div class='fluid-row'>
<div class='span3'>
<ul id='manual-sidebar'>
<li class='nav-header'>Navigation</li>
<li>
<a href="../../../Main_Page/">Main Page</a>
</li>
<li class='nav-header'>Introduction</li>
<li>
<a href="../../../About/">What is Aegisub?</a>
</li>
<li>
<a href="../../../Highlights/">Highlights</a>
</li>
<li>
<a href="../../../Credits/">Credits</a>
</li>
<li>
<a href="../../../Support/">Support Aegisub</a>
</li>
<li>
<a href="../../../FAQ/">FAQ</a>
</li>
<li>
<a href="../../../Tutorials/">Tutorials</a>
</li>
<li class='nav-header'>Working with Subtitles</li>
<li>
<a href="../../../Editing_Subtitles/">Editing Subtitles</a>
</li>
<li>
<a href="../../../Exporting/">Exporting Subtitles</a>
</li>
<li>
<a href="../../../Attaching_subtitles_to_video/">Applying Subtitles</a>
</li>
<li>
<a href="../../../Spell_Checker/">Spell Checker</a>
</li>
<li>
<a href="../../../Translation_Assistant/">Translation Assistant</a>
</li>
<li>
<a href="../../../Paste_Over/">Paste Over</a>
</li>
<li>
<a href="../../../Select_Lines/">Select Lines</a>
</li>
<li class='nav-header'>Typesetting</li>
<li>
<a href="../../../Typesetting/">Introduction</a>
</li>
<li>
<a href="../../../Video/">Working with Video</a>
</li>
<li>
<a href="../../../Styles/">Editing styles</a>
</li>
<li>
<a href="../../../Visual_Typesetting/">Visual Typesetting</a>
</li>
<li>
<a href="../../../ASS_Tags/">ASS Override Tags</a>
</li>
<li>
<a href="../../../Colour_Picker/">Colour Picker</a>
</li>
<li>
<a href="../../../Styling_Assistant/">Styling Assistant</a>
</li>
<li>
<a href="../../../Resolution_Resampler/">Resolution Resampler</a>
</li>
<li>
<a href="../../../Fonts_Collector/">Fonts Collector</a>
</li>
<li class='nav-header'>Timing</li>
<li>
<a href="../../../Audio/">Working with Audio</a>
</li>
<li>
<a href="../../../Timing/">Timing subtitles to audio</a>
</li>
<li>
<a href="../../../Shift_Times/">Shift times</a>
</li>
<li>
<a href="../../../Timing_Post-Processor/">Timing Post-Processor</a>
</li>
<li>
<a href="../../../Kanji_Timer/">Kanji Timer</a>
</li>
<li class='nav-header'>Automation</li>
<li>
<a href="../../../Automation/">Overview</a>
</li>
<li>
<a href="../../../Automation/Karaoke_Templater/">Karaoke Templater</a>
</li>
<li>
<a href="../../../Automation/Lua/">Lua Reference</a>
</li>
<li class='nav-header'>Miscellaneous</li>
<li>
<a href="../../../Options/">Aegisub Options</a>
</li>
<li>
<a href="../../../Properties/">Script Properties</a>
</li>
<li>
<a href="../../../Attachment_Manager/">Attachment Manager</a>
</li>
</ul>
</div>
<div class='span9' id='manual-body'>
<h1 class='page-header'><a href="../../../Automation/">Automation</a> / <a href="../../../Automation/Karaoke_Templater/">Karaoke Templater</a> / Tutorial 2</h1>
<p>In <a href="../../../Automation/Karaoke_Templater/Tutorial_1/">the previous tutorial</a> we saw how to use the basic features of Karaoke Templater to make simple karaoke effects. We'll continue where we left off here, by expanding on the basics from last tutorial.</p>

<p><div class='todo'>
<strong><p>make and insert screenshots</p>
</strong>
</div>
</p>

<h2 id="preparations">Preparations</h2>

<p>As before, you'll still need some timed karaoke and a video to preview the effects. I won't go into further details with that here.</p>

<h2 id="adding-a-fadeout">Adding a fadeout</h2>

<p>To recap, here's the effect from the end of last tutorial:</p>

<pre class="highlight text">{\r\k$kdur\t($start,$end,\1c&amp;H00FF00&amp;)\t($start,$mid,\fscy120)\t($mid,$end,\fscy100)}
</pre>
<p>We'll add a fadeout effect to this now, having each syllable fade out <em>after</em> it has been sung, not while. We'll have to do a little maths to make this: Start the fadeout at <code>$end</code> and have it continue until <code>$end+200</code>, ie. have it fade out for 200 milliseconds after the syllable.</p>

<p>Change the template to this:</p>

<pre class="highlight text">{\r\k$kdur\t($start,$end,\1c&amp;H00FF00&amp;)\t($start,$mid,\fscy120)\t($mid,$end,\fscy100)\t($end,!$end+200!,\alpha&amp;HFF&amp;)}
</pre>
<p>Then try applying templates again. You should see the old effect happen as usual, but this time afterwards, each syllable fades out.</p>

<p>The magic in this is the exclamation marks here: <code>!$end+200!</code></p>

<p>When you have a pair of exclamation marks like that, everything in between them is treated as an <em>expression</em> (actually a very small Lua program, but don't worry about that yet.) Here we use an expression to take the end-time of the syllable and add 200 to it, getting a new number. The end result is that the <tt>\t</tt> fadeout effect lasts from <code>$end</code> and until 200 milliseconds later.</p>

<h2 id="tweaking-the-growshrink-effect">Tweaking the grow/shrink effect</h2>

<p>Maybe you think the growing-shrinking effect looks a bit odd, switching right in the middle. It might look better if it was at the maximum height earlier, and used more time shrinking back to normal. Well, that can be changed:</p>

<pre class="highlight text">{\r\k$kdur\t($start,$end,\1c&amp;H00FF00&amp;)\t($start,!$start+$dur*0.3!,\fscy120)\t(!$start+$dur*0.3!,$end,\fscy100)}
</pre>
<p>With this, the growing-part will only take the first three-tenths of the syllable duration, and the shrinking the rest. We used one new variable here, <code>$dur</code>. This is the duration of the syllable in milliseconds, just like <code>$kdur</code> is the duration in centiseconds. (We could actually just as well just have used <code>$kdur</code> here, and then multiplied by 3 instead of 0.3.)</p>

<p>Note that I removed the fadeout from here, it's just to make the line shorter and easier to read. You can add it back if you want.</p>

<p>Hopefully this tutorial has given you some more ideas of what you can do. In the next one we'll add another layer to the effect by using multiple templates!</p>


</div>
</div>

<footer class='footer span12 pagination-centered'>
<p>
Hosting kindly provided by
<a href='http://www.networkredux.com'>NetworkRedux</a>
</p>
</footer>
</body>
</html>

