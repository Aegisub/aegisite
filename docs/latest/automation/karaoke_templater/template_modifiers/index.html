<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><script>(()=>{var t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,e=localStorage.getItem("theme");t&&e===null&&(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")),t&&e==="dark"&&document.documentElement.setAttribute("data-dark-mode",""),e==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script><script>(()=>{Object.keys(localStorage).forEach(function(e){/^global-alert-/.test(e)&&document.documentElement.setAttribute("data-global-alert","closed")})})()</script><link rel=stylesheet href=/main.6acdef4c8196b3e7a3dbd01a290cafe05dfe9e8d3a5a7b30305c0c2414920aa2c8834d42d02a6634bc5e62e85cf71eef48cf5cd292b270541366529b04910e93.css integrity="sha512-as3vTIGWs+ej29AaKQyv4F3+no06WnswMFwMJBSSCqLIg01C0CpmNLxeYuhc9x7vSM9c0pKycFQTZlKbBJEOkw==" crossorigin=anonymous><noscript><style>.collapse:not(.show){display:block}button.btn-toggle{cursor:unset}button.btn-toggle::before{display:none}.doks-subnavbar{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>Modifiers - Aegisub</title><meta name=description content="Template lines and code lines can take a number of modifiers.
This is a space-separated list of words in the Effect field following the template or code keyword.
While modifiers can be combined to some extent, not all are compatible, and not all work on both code lines and for templates.
There is a special set of modifiers that declare the class of the template line or code line.
Class declaring modifiers # Both template lines and code lines can be produced without having a class modifier."><link rel=canonical href=/docs/latest/automation/karaoke_templater/template_modifiers/><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:title" content="Modifiers"><meta property="og:description" content="Template lines and code lines can take a number of modifiers.
This is a space-separated list of words in the Effect field following the template or code keyword.
While modifiers can be combined to some extent, not all are compatible, and not all work on both code lines and for templates.
There is a special set of modifiers that declare the class of the template line or code line.
Class declaring modifiers # Both template lines and code lines can be produced without having a class modifier."><meta property="og:url" content="/docs/latest/automation/karaoke_templater/template_modifiers/"><meta property="og:site_name" content="Aegisub"><meta property="og:image" content="/img/logo.png"><meta property="og:image:alt" content="Aegisub"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@aegisub"><meta name=twitter:creator content><meta name=twitter:title content="Modifiers"><meta name=twitter:description content><meta name=twitter:image content="/img/logo.png"><meta name=twitter:image:alt content="Modifiers"><script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"/#/schema/organization/1","name":"Aegisub","url":"/","sameAs":["https://twitter.com/aegisub","https://github.com/TypesettingTools/Aegisub"],"logo":{"@type":"ImageObject","@id":"/#/schema/image/1","url":"/logo-aegisub.png","width":512,"height":512,"caption":"Aegisub"},"image":{"@id":"/#/schema/image/1"}},{"@type":"WebSite","@id":"/#/schema/website/1","url":"/","name":"Aegisub","description":"Aegisub is a free, cross-platform open source tool for creating and modifying subtitles. Aegisub makes it quick and easy to time subtitles to audio, and features many powerful tools for styling them, including a built-in real-time video preview.","publisher":{"@id":"/#/schema/organization/1"}},{"@type":"WebPage","@id":"/docs/latest/automation/karaoke_templater/template_modifiers/","url":"/docs/latest/automation/karaoke_templater/template_modifiers/","name":"Modifiers","description":"","isPartOf":{"@id":"/#/schema/website/1"},"about":{"@id":"/#/schema/organization/1"},"datePublished":"0001-01-01T00:00:00CET","dateModified":"0001-01-01T00:00:00CET","breadcrumb":{"@id":"/docs/latest/automation/karaoke_templater/template_modifiers/#/schema/breadcrumb/1"},"primaryImageOfPage":{"@id":"/docs/latest/automation/karaoke_templater/template_modifiers/#/schema/image/2"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["/docs/latest/automation/karaoke_templater/template_modifiers/"]}]},{"@type":"BreadcrumbList","@id":"/docs/latest/automation/karaoke_templater/template_modifiers/#/schema/breadcrumb/1","name":"Breadcrumbs","itemListElement":[{"@type":"ListItem","position":1,"item":{"@type":"WebPage","@id":"/","url":"/","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@id":"/docslatestautomationkaraoke_templatertemplate_modifiers/"}}]},{"@context":"https://schema.org","@graph":[{"@type":"Article","@id":"/#/schema/article/1","headline":"Modifiers","description":"","isPartOf":{"@id":"/docs/latest/automation/karaoke_templater/template_modifiers/"},"mainEntityOfPage":{"@id":"/docs/latest/automation/karaoke_templater/template_modifiers/"},"datePublished":"0001-01-01T00:00:00CET","dateModified":"0001-01-01T00:00:00CET","author":{"@id":"/#/schema/person/2"},"publisher":{"@id":"/#/schema/organization/1"},"image":{"@id":"/docs/latest/automation/karaoke_templater/template_modifiers/#/schema/image/2"}}]},{"@context":"https://schema.org","@graph":[{"@type":"Person","@id":"/#/schema/person/2","name":null,"sameAs":[]}]},{"@context":"https://schema.org","@graph":[{"@type":"ImageObject","@id":"/docs/latest/automation/karaoke_templater/template_modifiers/#/schema/image/2","url":"/img/logo.png","contentUrl":"/img/logo.png","caption":"Modifiers"}]}]}</script><meta name=theme-color content="#fff"><link rel=icon href=/favicon.ico sizes=any><link rel=icon type=image/svg+xml href=/favicon.svg><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest crossorigin=use-credentials href=/site.webmanifest></head><body class="docs single"><div id=announcement data-id=global-alert-2857b76439548ca539fee5ff8038aa86 class="alert alert-primary alert-dismissible fade show text-lg-center" role=alert><a href=/blog/aegisub-3.4.0-released/>Aegisub 3.4.0 released!</a>
<button type=button class=btn-close data-bs-dismiss=alert aria-label=Close></button></div><div class=sticky-top><div class=header-bar></div><header class="navbar navbar-expand-md navbar-light doks-navbar"><nav class="container-fluid flex-wrap flex-md-nowrap" aria-label="Main navigation"><a class="navbar-brand p-0 me-auto" href=/ aria-label=Aegisub>Aegisub</a>
<button class="btn btn-menu d-block d-md-none order-5" type=button data-bs-toggle=offcanvas data-bs-target=#offcanvasDoks aria-controls=offcanvasDoks aria-label="Open main menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button><div class="offcanvas offcanvas-end border-0 py-md-1" tabindex=-1 id=offcanvasDoks data-bs-backdrop=true aria-labelledby=offcanvasDoksLabel><div class="header-bar d-md-none"></div><div class="offcanvas-header d-md-none"><h2 class="h5 offcanvas-title ps-2" id=offcanvasDoksLabel><a class=text-dark href=/>Aegisub</a></h2><button type=button class="btn-close text-reset me-2" data-bs-dismiss=offcanvas aria-label="Close main menu"></button></div><div class="offcanvas-body px-4"><h3 class="h6 text-uppercase mb-3 d-md-none">Main</h3><ul class="nav flex-column flex-md-row ms-md-n3"><li class="nav-item dropdown"><a class="nav-link dropdown-toggle ps-0 py-1" href=# id=navbarDropdownMenuLink role=button data-bs-toggle=dropdown aria-expanded=false>Downloads
<span class=dropdown-caret><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"/></svg></span></a><ul class="dropdown-menu dropdown-menu-main shadow rounded border-0" aria-labelledby=navbarDropdownMenuLink><li><a class=dropdown-item href=/downloads/>Downloads</a></li><li><a class=dropdown-item href=/changelog/>Changelog</a></li></ul></li><li class=nav-item><a class="nav-link ps-0 py-1 active" href=/docs/>Docs</a></li><li class=nav-item><a class="nav-link ps-0 py-1" href=https://github.com/TypesettingTools/Aegisub/issues>Bug Tracker</a></li><li class=nav-item><a class="nav-link ps-0 py-1" href=/blog/>Blog</a></li></ul><hr class="text-black-50 my-4 d-md-none"><h3 class="h6 text-uppercase mb-3 d-md-none">Socials</h3><ul class="nav flex-column flex-md-row ms-md-auto me-md-n5 pe-md-4"><li class=nav-item><a class="nav-link ps-0 py-1" href=https://github.com/TypesettingTools/Aegisub aria-label="View repository on GitHub"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg><small class="ms-2 d-md-none">GitHub</small></a></li></ul></div></div><button id=mode class="btn btn-link order-md-1" type=button aria-label="Toggle user interface mode">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button><div class="dropdown order-md-2"><button class="btn btn-doks-light dropdown-toggle" id=doks-languages data-bs-toggle=dropdown aria-expanded=false data-bs-display=static>
EN
<span class=dropdown-caret><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"/></svg></span></button><ul class="dropdown-menu dropdown-menu-end shadow rounded border-0" aria-labelledby=doks-languages><li><a class="dropdown-item current" aria-current=true href=/docs/latest/automation/karaoke_templater/template_modifiers/>English</a></li><li><hr class=dropdown-divider></li><li><a class=dropdown-item rel=alternate href=/zh-cn/docs/latest/automation/karaoke_templater/template_modifiers/ hreflang=zh-cn lang=zh-cn>简体中文</a></li></ul></div></nav></header></div><nav class="doks-subnavbar py-2 sticky-lg-top d-lg-none" aria-label="Secondary navigation"><div class="container-fluid d-flex align-items-md-center"><button class="btn doks-sidebar-toggle d-lg-none ms-3 order-3 collapsed ms-auto" type=button data-bs-toggle=collapse data-bs-target=#doks-docs-nav aria-controls=doks-docs-nav aria-expanded=false aria-label="Toggle documentation navigation">Docs Navigation<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="doks doks-expand" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Expand</title><polyline points="7 13 12 18 17 13"/><polyline points="7 6 12 11 17 6"/></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="doks doks-collapse" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Collapse</title><polyline points="17 11 12 6 7 11"/><polyline points="17 18 12 13 7 18"/></svg></button></div></nav><div class=container-fluid><aside class=doks-sidebar><nav id=doks-docs-nav class="collapse d-lg-none" aria-label="Tertiary navigation"><ul class="list-unstyled collapsible-sidebar"><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-navigation aria-expanded=false>
Navigation</button><div class=collapse id=section-navigation><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/docs/latest/main_page/>Main Page</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-introduction aria-expanded=false>
Introduction</button><div class=collapse id=section-introduction><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/docs/latest/about/>What is Aegisub?</a></li><li><a class="docs-link rounded" href=/docs/latest/overview/>Overview</a></li><li><a class="docs-link rounded" href=/docs/latest/highlights/>Highlights</a></li><li><a class="docs-link rounded" href=/docs/latest/credits/>Credits</a></li><li><a class="docs-link rounded" href=/docs/latest/general_disclaimer/>General Disclaimer</a></li><li><a class="docs-link rounded" href=/docs/latest/support/>Support Aegisub</a></li><li><a class="docs-link rounded" href=/docs/latest/faq/>FAQ</a></li><li class="my-1 ms-3"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-tutorials aria-expanded=false>
Tutorials</button><div class=collapse id=section-tutorials><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/docs/latest/tutorials/>Overview</a></li><li><a class="docs-link rounded" href=/docs/latest/karaoke_timing_tutorial/>Karaoke Timing Tutorial</a></li><li><a class="docs-link rounded" href=/docs/latest/karaoke_inline-fx/>Inline effects Tutorial</a></li><li><a class="docs-link rounded" href=/docs/latest/furigana_karaoke/>Furigana Tutorial</a></li></ul></div></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-working-with-subtitles aria-expanded=false>
Working with Subtitles</button><div class=collapse id=section-working-with-subtitles><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/docs/latest/editing_subtitles/>Editing Subtitles</a></li><li><a class="docs-link rounded" href=/docs/latest/exporting/>Exporting Subtitles</a></li><li><a class="docs-link rounded" href=/docs/latest/attaching_subtitles_to_video/>Applying Subtitles</a></li><li><a class="docs-link rounded" href=/docs/latest/spell_checker/>Spell Checker</a></li><li><a class="docs-link rounded" href=/docs/latest/translation_assistant/>Translation Assistant</a></li><li><a class="docs-link rounded" href=/docs/latest/paste_over/>Paste Over</a></li><li><a class="docs-link rounded" href=/docs/latest/select_lines/>Select Lines</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-typesetting aria-expanded=false>
Typesetting</button><div class=collapse id=section-typesetting><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/docs/latest/typesetting/>Typesetting Introduction</a></li><li><a class="docs-link rounded" href=/docs/latest/video/>Working with Video</a></li><li><a class="docs-link rounded" href=/docs/latest/styles/>Editing styles</a></li><li><a class="docs-link rounded" href=/docs/latest/visual_typesetting/>Visual Typesetting</a></li><li><a class="docs-link rounded" href=/docs/latest/ass_tags/>ASS Override Tags</a></li><li><a class="docs-link rounded" href=/docs/latest/colour_picker/>Colour Picker</a></li><li><a class="docs-link rounded" href=/docs/latest/styling_assistant/>Styling Assistant</a></li><li><a class="docs-link rounded" href=/docs/latest/resolution_resampler/>Resolution Resampler</a></li><li><a class="docs-link rounded" href=/docs/latest/fonts_collector/>Fonts Collector</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-timing aria-expanded=false>
Timing</button><div class=collapse id=section-timing><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/docs/latest/audio/>Working with Audio</a></li><li><a class="docs-link rounded" href=/docs/latest/timing/>Timing subtitles to audio</a></li><li><a class="docs-link rounded" href=/docs/latest/shift_times/>Shift times</a></li><li><a class="docs-link rounded" href=/docs/latest/timing_post-processor/>Timing Post-Processor</a></li><li><a class="docs-link rounded" href=/docs/latest/kanji_timer/>Kanji Timer</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-automation aria-expanded=true>
Automation</button><div class="collapse show" id=section-automation><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/docs/latest/automation/>Automation Overview</a></li><li class="my-1 ms-3"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-karaoke-templater aria-expanded=true>
Karaoke Templater</button><div class="collapse show" id=section-karaoke-templater><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/docs/latest/automation/karaoke_templater/>Overview</a></li><li><a class="docs-link rounded" href=/docs/latest/automation/karaoke_templater/declaring_template_and_code_lines/>Declaring templates</a></li><li><a class="docs-link rounded" href=/docs/latest/automation/karaoke_templater/template_execution_rules_and_order/>Execution order</a></li><li><a class="docs-link rounded active" href=/docs/latest/automation/karaoke_templater/template_modifiers/>Modifiers</a></li><li><a class="docs-link rounded" href=/docs/latest/automation/karaoke_templater/inline_variables/>Inline-variables ($-variables)</a></li><li><a class="docs-link rounded" href=/docs/latest/automation/karaoke_templater/code_lines_and_blocks/>Code lines and blocks</a></li><li><a class="docs-link rounded" href=/docs/latest/automation/karaoke_templater/code_execution_environment/>Execution environment</a></li><li class="my-1 ms-3"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-automation-tutorials aria-expanded=false>
Automation Tutorials</button><div class=collapse id=section-automation-tutorials><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/docs/latest/automation/karaoke_templater/tutorial/>Overview</a></li><li><a class="docs-link rounded" href=/docs/latest/automation/karaoke_templater/tutorial_1/>A simple example</a></li><li><a class="docs-link rounded" href=/docs/latest/automation/karaoke_templater/tutorial_2/>Using math expressions</a></li></ul></div></li></ul></div></li><li class="my-1 ms-3"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-lua-reference aria-expanded=false>
Lua Reference</button><div class=collapse id=section-lua-reference><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/docs/latest/automation/lua/>Overview</a></li><li><a class="docs-link rounded" href=/docs/latest/automation/lua/registration/>Registration</a></li><li><a class="docs-link rounded" href=/docs/latest/automation/lua/subtitle_file_interface/>Subtitles object</a></li><li><a class="docs-link rounded" href=/docs/latest/automation/lua/progress_reporting/>Progress reporting</a></li><li><a class="docs-link rounded" href=/docs/latest/automation/lua/dialogs/>Dialogs</a></li><li><a class="docs-link rounded" href=/docs/latest/automation/lua/miscellaneous_apis/>Misc. APIs</a></li><li class="my-1 ms-3"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-lua-modules aria-expanded=false>
Lua Modules</button><div class=collapse id=section-lua-modules><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/docs/latest/automation/lua/modules/>Overview</a></li><li><a class="docs-link rounded" href=/docs/latest/automation/lua/modules/karaskel.lua/>karaskel.lua</a></li><li><a class="docs-link rounded" href=/docs/latest/automation/lua/modules/util/>utils.lua</a></li><li><a class="docs-link rounded" href=/docs/latest/automation/lua/modules/unicode/>unicode.lua</a></li><li><a class="docs-link rounded" href=/docs/latest/automation/lua/modules/cleantags/>cleantags.lua</a></li><li><a class="docs-link rounded" href=/docs/latest/automation/lua/modules/clipboard/>clipboard</a></li><li><a class="docs-link rounded" href=/docs/latest/automation/lua/modules/re/>re</a></li></ul></div></li></ul></div></li><li><a class="docs-link rounded" href=/docs/latest/automation/manager/>Automation Manager</a></li><li><a class="docs-link rounded" href=/docs/latest/automation/running_macros/>Running macros</a></li><li><a class="docs-link rounded" href=/docs/latest/automation/included_macros/>Standard macros</a></li><li><a class="docs-link rounded" href=/docs/latest/history_of_automation/>History of Automation</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-miscellaneous aria-expanded=false>
Miscellaneous</button><div class=collapse id=section-miscellaneous><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/docs/latest/options/>Aegisub Options</a></li><li><a class="docs-link rounded" href=/docs/latest/autosave/>Autosave</a></li><li><a class="docs-link rounded" href=/docs/latest/aegisub_path_specifiers/>Path Specifiers</a></li><li><a class="docs-link rounded" href=/docs/latest/properties/>Script Properties</a></li><li><a class="docs-link rounded" href=/docs/latest/script_resolution/>Script Resolution</a></li><li><a class="docs-link rounded" href=/docs/latest/attachment_manager/>Attachment Manager</a></li><li><a class="docs-link rounded" href=/docs/latest/commands/>Commands</a></li></ul></div></li></ul></nav></aside></div><div class="wrap container-fluid" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar d-none d-lg-block"><nav class=docs-links aria-label="Main navigation"><ul class="list-unstyled collapsible-sidebar"><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-navigation aria-expanded=false>
Navigation</button><div class=collapse id=section-navigation><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/docs/latest/main_page/>Main Page</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-introduction aria-expanded=false>
Introduction</button><div class=collapse id=section-introduction><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/docs/latest/about/>What is Aegisub?</a></li><li><a class="docs-link rounded" href=/docs/latest/overview/>Overview</a></li><li><a class="docs-link rounded" href=/docs/latest/highlights/>Highlights</a></li><li><a class="docs-link rounded" href=/docs/latest/credits/>Credits</a></li><li><a class="docs-link rounded" href=/docs/latest/general_disclaimer/>General Disclaimer</a></li><li><a class="docs-link rounded" href=/docs/latest/support/>Support Aegisub</a></li><li><a class="docs-link rounded" href=/docs/latest/faq/>FAQ</a></li><li class="my-1 ms-3"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-tutorials aria-expanded=false>
Tutorials</button><div class=collapse id=section-tutorials><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/docs/latest/tutorials/>Overview</a></li><li><a class="docs-link rounded" href=/docs/latest/karaoke_timing_tutorial/>Karaoke Timing Tutorial</a></li><li><a class="docs-link rounded" href=/docs/latest/karaoke_inline-fx/>Inline effects Tutorial</a></li><li><a class="docs-link rounded" href=/docs/latest/furigana_karaoke/>Furigana Tutorial</a></li></ul></div></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-working-with-subtitles aria-expanded=false>
Working with Subtitles</button><div class=collapse id=section-working-with-subtitles><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/docs/latest/editing_subtitles/>Editing Subtitles</a></li><li><a class="docs-link rounded" href=/docs/latest/exporting/>Exporting Subtitles</a></li><li><a class="docs-link rounded" href=/docs/latest/attaching_subtitles_to_video/>Applying Subtitles</a></li><li><a class="docs-link rounded" href=/docs/latest/spell_checker/>Spell Checker</a></li><li><a class="docs-link rounded" href=/docs/latest/translation_assistant/>Translation Assistant</a></li><li><a class="docs-link rounded" href=/docs/latest/paste_over/>Paste Over</a></li><li><a class="docs-link rounded" href=/docs/latest/select_lines/>Select Lines</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-typesetting aria-expanded=false>
Typesetting</button><div class=collapse id=section-typesetting><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/docs/latest/typesetting/>Typesetting Introduction</a></li><li><a class="docs-link rounded" href=/docs/latest/video/>Working with Video</a></li><li><a class="docs-link rounded" href=/docs/latest/styles/>Editing styles</a></li><li><a class="docs-link rounded" href=/docs/latest/visual_typesetting/>Visual Typesetting</a></li><li><a class="docs-link rounded" href=/docs/latest/ass_tags/>ASS Override Tags</a></li><li><a class="docs-link rounded" href=/docs/latest/colour_picker/>Colour Picker</a></li><li><a class="docs-link rounded" href=/docs/latest/styling_assistant/>Styling Assistant</a></li><li><a class="docs-link rounded" href=/docs/latest/resolution_resampler/>Resolution Resampler</a></li><li><a class="docs-link rounded" href=/docs/latest/fonts_collector/>Fonts Collector</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-timing aria-expanded=false>
Timing</button><div class=collapse id=section-timing><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/docs/latest/audio/>Working with Audio</a></li><li><a class="docs-link rounded" href=/docs/latest/timing/>Timing subtitles to audio</a></li><li><a class="docs-link rounded" href=/docs/latest/shift_times/>Shift times</a></li><li><a class="docs-link rounded" href=/docs/latest/timing_post-processor/>Timing Post-Processor</a></li><li><a class="docs-link rounded" href=/docs/latest/kanji_timer/>Kanji Timer</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-automation aria-expanded=true>
Automation</button><div class="collapse show" id=section-automation><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/docs/latest/automation/>Automation Overview</a></li><li class="my-1 ms-3"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-karaoke-templater aria-expanded=true>
Karaoke Templater</button><div class="collapse show" id=section-karaoke-templater><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/docs/latest/automation/karaoke_templater/>Overview</a></li><li><a class="docs-link rounded" href=/docs/latest/automation/karaoke_templater/declaring_template_and_code_lines/>Declaring templates</a></li><li><a class="docs-link rounded" href=/docs/latest/automation/karaoke_templater/template_execution_rules_and_order/>Execution order</a></li><li><a class="docs-link rounded active" href=/docs/latest/automation/karaoke_templater/template_modifiers/>Modifiers</a></li><li><a class="docs-link rounded" href=/docs/latest/automation/karaoke_templater/inline_variables/>Inline-variables ($-variables)</a></li><li><a class="docs-link rounded" href=/docs/latest/automation/karaoke_templater/code_lines_and_blocks/>Code lines and blocks</a></li><li><a class="docs-link rounded" href=/docs/latest/automation/karaoke_templater/code_execution_environment/>Execution environment</a></li><li class="my-1 ms-3"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-automation-tutorials aria-expanded=false>
Automation Tutorials</button><div class=collapse id=section-automation-tutorials><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/docs/latest/automation/karaoke_templater/tutorial/>Overview</a></li><li><a class="docs-link rounded" href=/docs/latest/automation/karaoke_templater/tutorial_1/>A simple example</a></li><li><a class="docs-link rounded" href=/docs/latest/automation/karaoke_templater/tutorial_2/>Using math expressions</a></li></ul></div></li></ul></div></li><li class="my-1 ms-3"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-lua-reference aria-expanded=false>
Lua Reference</button><div class=collapse id=section-lua-reference><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/docs/latest/automation/lua/>Overview</a></li><li><a class="docs-link rounded" href=/docs/latest/automation/lua/registration/>Registration</a></li><li><a class="docs-link rounded" href=/docs/latest/automation/lua/subtitle_file_interface/>Subtitles object</a></li><li><a class="docs-link rounded" href=/docs/latest/automation/lua/progress_reporting/>Progress reporting</a></li><li><a class="docs-link rounded" href=/docs/latest/automation/lua/dialogs/>Dialogs</a></li><li><a class="docs-link rounded" href=/docs/latest/automation/lua/miscellaneous_apis/>Misc. APIs</a></li><li class="my-1 ms-3"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-lua-modules aria-expanded=false>
Lua Modules</button><div class=collapse id=section-lua-modules><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/docs/latest/automation/lua/modules/>Overview</a></li><li><a class="docs-link rounded" href=/docs/latest/automation/lua/modules/karaskel.lua/>karaskel.lua</a></li><li><a class="docs-link rounded" href=/docs/latest/automation/lua/modules/util/>utils.lua</a></li><li><a class="docs-link rounded" href=/docs/latest/automation/lua/modules/unicode/>unicode.lua</a></li><li><a class="docs-link rounded" href=/docs/latest/automation/lua/modules/cleantags/>cleantags.lua</a></li><li><a class="docs-link rounded" href=/docs/latest/automation/lua/modules/clipboard/>clipboard</a></li><li><a class="docs-link rounded" href=/docs/latest/automation/lua/modules/re/>re</a></li></ul></div></li></ul></div></li><li><a class="docs-link rounded" href=/docs/latest/automation/manager/>Automation Manager</a></li><li><a class="docs-link rounded" href=/docs/latest/automation/running_macros/>Running macros</a></li><li><a class="docs-link rounded" href=/docs/latest/automation/included_macros/>Standard macros</a></li><li><a class="docs-link rounded" href=/docs/latest/history_of_automation/>History of Automation</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-miscellaneous aria-expanded=false>
Miscellaneous</button><div class=collapse id=section-miscellaneous><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/docs/latest/options/>Aegisub Options</a></li><li><a class="docs-link rounded" href=/docs/latest/autosave/>Autosave</a></li><li><a class="docs-link rounded" href=/docs/latest/aegisub_path_specifiers/>Path Specifiers</a></li><li><a class="docs-link rounded" href=/docs/latest/properties/>Script Properties</a></li><li><a class="docs-link rounded" href=/docs/latest/script_resolution/>Script Resolution</a></li><li><a class="docs-link rounded" href=/docs/latest/attachment_manager/>Attachment Manager</a></li><li><a class="docs-link rounded" href=/docs/latest/commands/>Commands</a></li></ul></div></li></ul></nav></div><nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class=page-links><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#class-declaring-modifiers>Class declaring modifiers</a><ul><li><a href=#once>once</a></li><li><a href=#line-_name_>line <em>[name]</em></a></li><li><a href=#pre-line-_name_>pre-line <em>[name]</em></a></li><li><a href=#syl>syl</a></li><li><a href=#furi>furi</a></li><li><a href=#syl-furi>syl furi</a></li></ul></li><li><a href=#other-modifiers>Other modifiers</a><ul><li><a href=#all>all</a></li><li><a href=#char>char</a></li><li><a href=#fx-_name_>fx <em>name</em></a></li><li><a href=#fxgroup-_name_>fxgroup <em>name</em></a></li><li><a href=#keeptags>keeptags</a></li><li><a href=#multi>multi</a></li><li><a href=#noblank>noblank</a></li><li><a href=#notext>notext</a></li><li><a href=#repeat-_n_-loop-_n_>repeat <em>n</em>, loop <em>n</em></a></li></ul></li></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-9 mx-xl-auto"><h1>Modifiers</h1><p class=lead></p><nav class=d-xl-none aria-label="Quaternary navigation"><div class=page-links><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#class-declaring-modifiers>Class declaring modifiers</a><ul><li><a href=#once>once</a></li><li><a href=#line-_name_>line <em>[name]</em></a></li><li><a href=#pre-line-_name_>pre-line <em>[name]</em></a></li><li><a href=#syl>syl</a></li><li><a href=#furi>furi</a></li><li><a href=#syl-furi>syl furi</a></li></ul></li><li><a href=#other-modifiers>Other modifiers</a><ul><li><a href=#all>all</a></li><li><a href=#char>char</a></li><li><a href=#fx-_name_>fx <em>name</em></a></li><li><a href=#fxgroup-_name_>fxgroup <em>name</em></a></li><li><a href=#keeptags>keeptags</a></li><li><a href=#multi>multi</a></li><li><a href=#noblank>noblank</a></li><li><a href=#notext>notext</a></li><li><a href=#repeat-_n_-loop-_n_>repeat <em>n</em>, loop <em>n</em></a></li></ul></li></ul></nav></div></nav><p>Template lines and code lines can take a number of modifiers.</p><p>This is a space-separated list of words in the Effect field following the <code>template</code> or <code>code</code> keyword.</p><p>While modifiers can be combined to some extent, not all are compatible, and not all work on both code lines and for templates.</p><p>There is a special set of modifiers that declare the class of the template line or code line.</p><h2 id=class-declaring-modifiers>Class declaring modifiers <a href=#class-declaring-modifiers class=anchor aria-hidden=true>#</a></h2><p>Both template lines and code lines can be produced without having a class modifier. Having one is still recommended for clarity, however.</p><p>A template line without a class modifier is implicitly given the <code>syl</code> modifier.</p><p>A code line without a class modifier is implicitly given the <code>once</code> modifier.</p><h3 id=once>once <a href=#once class=anchor aria-hidden=true>#</a></h3><p>This class modifier is only valid for code lines.</p><p>Code lines with the <code>once</code> modifier are run exactly once during Karaoke Templater execution, and are always run before any other code lines or templates. They are run in the order they are declared.</p><p>&ldquo;code once&rdquo; lines are primarily intended to declare functions for use in templates.</p><div class=card><strong class=card-header>Example</strong><div class=card-body><pre><code class=language-plaintext>Comment: 0,0:00:00.00,0:00:05.00,Default,,0000,0000,0000,&lt;u&gt;code once&lt;/u&gt;,function setlayer(newlayer) line.layer = newlayer; return &quot;&quot;; end
</code></pre><p>This example declares a new function that changes the Layer field in the output line.</p></div></div><h3 id=line-_name_>line <em>[name]</em> <a href=#line-_name_ class=anchor aria-hidden=true>#</a></h3><p>This class modifier is valid for both code lines and template lines.</p><p>When used on template lines it takes an optional parameter naming the line template the template line participates in. The template name must not match any template modifier names.</p><p>Anonymous line templates (with no template name given) can not have pre-line template text.</p><p>Code lines can not be named, they must be anonymous.</p><p>Named line template lines append to the template text in the order they appear. The appending of template text happens at template parse time, not at execution time.</p><p><div class=card><strong class=card-header>Example</strong><div class=card-body><pre><code class=language-plaintext>Comment: 0,0:00:00.00,0:00:05.00,Default,,0000,0000,0000,&lt;u&gt;code line&lt;/u&gt;,fxgroup.funky = line.actor == &quot;funky&quot;
</code></pre><p>This code line is run once per input line. It enables/disables an effect group named &ldquo;funky&rdquo; depending on the Actor field of the input line.</p></div></div><div class=card><strong class=card-header>Example</strong><div class=card-body><pre><code class=language-plaintext>Comment: 0,0:00:00.00,0:00:05.00,Default,,0000,0000,0000,&lt;u&gt;template line&lt;/u&gt;,{\r\t($start,$end,\bord0)}
</code></pre><p>This template line declares an anonymous line template. The effect produced will transform the border of each syllable to zero during the syllable&rsquo;s duration.</p></div></div><div class=card><strong class=card-header>Example</strong><div class=card-body><pre><code class=language-plaintext>Comment: 0,0:00:00.00,0:00:05.00,Default,,0000,0000,0000,&lt;u&gt;template line jumper&lt;/u&gt;,{\r\t($start,$mid,\frz-0.1)\t($mid,$end,\frz0}
</code></pre><p>This template line appends to a line template named &ldquo;jumper&rdquo; or creates it if it doesn&rsquo;t exist. Together with the pre-line template example given below, this will produce a &ldquo;jumping&rdquo; effect for the syllables.</p></div></div></p><h3 id=pre-line-_name_>pre-line <em>[name]</em> <a href=#pre-line-_name_ class=anchor aria-hidden=true>#</a></h3><p>This class modifier is only valid for template lines.</p><p>The <code>pre-line</code> modifier takes an optional parameter naming the line template the template line participates in. The template name must not match any template modifier names.</p><p>Anonymous line templates with only pre-line text leave the original input line text alone and just prepends the template text to the line.</p><p>Named pre-line template lines append to the pre-line template text in the order they appear. The appending of template text happens at template parse time, not at execution time.</p><p><div class=card><strong class=card-header>Example</strong><div class=card-body><pre><code class=language-plaintext>Comment: 0,0:00:00.00,0:00:05.00,Default,,0000,0000,0000,&lt;u&gt;template pre-line&lt;/u&gt;,{\be1}
</code></pre><p>This template line declares an anonymous line template, that will prepend <code>{\be1}</code>> to all matching lines.</p></div></div><div class=card><strong class=card-header>Example</strong><div class=card-body><pre><code class=language-plaintext>Comment: 0,0:00:00.00,0:00:05.00,Default,,0000,0000,0000,&lt;u&gt;template pre-line jumper&lt;/u&gt;,{\org(-10000,$y)}
</code></pre><p>This template line appends to the pre-line template text of a line template named &ldquo;jumper&rdquo;, or creates it if it doesn&rsquo;t exist. Together with the line template example given above, this will produce a &ldquo;jumping&rdquo; effect for the syllables.</p></div></div></p><h3 id=syl>syl <a href=#syl class=anchor aria-hidden=true>#</a></h3><p>This class modifier is valid for both code lines and template lines.</p><p>Syl templates can not be named.</p><div class=card><strong class=card-header>Example</strong><div class=card-body><pre><code class=language-plaintext>Comment: 0,0:00:00.00,0:00:05.00,Default,,0000,0000,0000,&lt;u&gt;template syl&lt;/u&gt;,{\pos($x,$y)}
</code></pre><p>This template line declares a syl template that simply positions the syllable text.</p></div></div><h3 id=furi>furi <a href=#furi class=anchor aria-hidden=true>#</a></h3><p>This class modifier is valid for both code lines and template lines.</p><p>Furi templates can not be named.</p><div class=card><strong class=card-header>Example</strong><div class=card-body><pre><code class=language-plaintext>Comment: 0,0:00:00.00,0:00:05.00,Default,,0000,0000,0000,&lt;u&gt;template furi&lt;/u&gt;,{\pos($x,$y)}
</code></pre><p>This template line declares a furi template that simply positions the syllable text. It&rsquo;s not needed to do anything further to get correct furigana formatting.</p></div></div><h3 id=syl-furi>syl furi <a href=#syl-furi class=anchor aria-hidden=true>#</a></h3><p>It&rsquo;s possible to combine the <code>syl</code> and <code>furi</code> class modifiers. This results in two identical templates being generated from the template line, one syl template and one furi template.</p><p>This is the only possible combination of class modifiers, they are otherwise exclusive.</p><h2 id=other-modifiers>Other modifiers <a href=#other-modifiers class=anchor aria-hidden=true>#</a></h2><h3 id=all>all <a href=#all class=anchor aria-hidden=true>#</a></h3><p>Apply template to all styles, not just the one of the template line.</p><p>Applicable for both code lines and templates, and for all classes.</p><div class=card><strong class=card-header>Example</strong><div class=card-body><pre><code class=language-plaintext>Comment: 0,0:00:00.00,0:00:05.00,Default,,0000,0000,0000,&lt;u&gt;template syl all&lt;/u&gt;,{\pos($x,$y)}
</code></pre><p>This template will be applied to every single syllable in the entire subtitle file, regardless of the style of the line they are on.</p></div></div><h3 id=char>char <a href=#char class=anchor aria-hidden=true>#</a></h3><p>Make the template work per-character instead of per-syllable. This changes application order semantics in a significant way, see <a href=/docs/latest/automation/karaoke_templater/template_execution_rules_and_order/>Template execution and order</a> for details.</p><p>While this will work on code lines, it is generally not useful, see the discussion on execution order.</p><div class=card><strong class=card-header>Example</strong><div class=card-body><pre><code class=language-plaintext>Comment: 0,0:00:00.00,0:00:05.00,Default,,0000,0000,0000,&lt;u&gt;template syl char&lt;/u&gt;,{\pos($x,$y)}
Comment: 1,0:00:00.00,0:00:05.00,Default,,0000,0000,0000,&lt;u&gt;template syl char&lt;/u&gt;,{\pos($x,$y)\bord0}
</code></pre><p>Every single character on the line will be positioned separately. For each syllable, each template will apply for all characters in one go, and not be applied interleaved.</p><p>For example, if there are two syllables, &ldquo;ab&rdquo; and &ldquo;cd&rdquo;, and the above two templates are applied to them, the result will be 8 lines with the following text, in this order:</p><pre><code class=language-ass>{\pos($x,$y)}a
{\pos($x,$y)}b
{\pos($x,$y)\bord0}a
{\pos($x,$y)\bord0}b
{\pos($x,$y)}c
{\pos($x,$y)}d
{\pos($x,$y)\bord0}c
{\pos($x,$y)\bord0}d
</code></pre></div></div><h3 id=fx-_name_>fx <em>name</em> <a href=#fx-_name_ class=anchor aria-hidden=true>#</a></h3><p>Make template only apply to syllables that have the named <a href=/docs/latest/karaoke_inline-fx/>inline-fx</a>. Specifying an inline-fx name is required; the name may also overlap with template modifier names though this is not recommended.</p><div class=card><strong class=card-header>Example</strong><div class=card-body><pre><code class=language-plaintext>Comment: 0,0:00:00.00,0:00:05.00,Default,,0000,0000,0000,&lt;u&gt;template syl fx drop&lt;/u&gt;,{\move($x,$y,$x,!$y+30!,$start,$end)}
</code></pre><p>With this template, all syllables that have the inline-fx &ldquo;drop&rdquo; will get an additional line produced, where the syllables moves down 30 pixels during its duration.</p><p>All other template lines that don&rsquo;t have <em>fx</em> specified will still be applied as usual to those syllables as well.</p></div></div><h3 id=fxgroup-_name_>fxgroup <em>name</em> <a href=#fxgroup-_name_ class=anchor aria-hidden=true>#</a></h3><p>Declare template to be in the named effect group. Specifying an effect group name is required; the name may also overlap with template modifier names and Lua reserved words, though this is not recommended.</p><div class=card><strong class=card-header>Example</strong><div class=card-body>There is an example of <em>fxgroup</em> on the <a href=/docs/latest/automation/karaoke_templater/code_execution_environment/#conditional-templates-with-fxgroup>Code execution environment</a> page.</div></div><h3 id=keeptags>keeptags <a href=#keeptags class=anchor aria-hidden=true>#</a></h3><p>Specify that the original tags must be kept in the syllable after application.</p><p>This has no effect when combined with <code>char</code> or <code>multi</code>.</p><div class=card><strong class=card-header>Example</strong><div class=card-body><pre><code class=language-plaintext>template line &lt;u&gt;keeptags&lt;/u&gt;: {\r\t($start,!$start+1!,\frx40)\t(!$start+1!,$end,\frx0)}
karaoke: {\k21}hi{\k10}gu{\k23}ra{\k22}shi {\k38}ga {\k37\1c&amp;H0000FF&amp;}na{\k37}ku
</code></pre><p>The syllables &ldquo;tip&rdquo; back over a bit during highlight. One of them (&ldquo;na&rdquo;) is coloured differently by putting an override tag in the timed karaoke line, but the following syllables don&rsquo;t get it because of the customary <code>\r</code> at the start of the template.</p><p>The <em>notags</em> modifier ensures that the special colour of the special syllable gets carried over to the output.</p></div></div><h3 id=multi>multi <a href=#multi class=anchor aria-hidden=true>#</a></h3><p>Make the template apply per-highlight in <a href=/docs/latest/furigana_karaoke/>multi-highlight</a> timed karaoke. This changes application order semantics in a significant way, see <a href=/docs/latest/automation/karaoke_templater/template_execution_rules_and_order/>Template execution and order</a> for details.</p><p>While this will work on code lines, it is generally not useful, see the discussion on execution order.</p><div class=card><strong class=card-header>Example</strong><div class=card-body><pre><code class=language-plaintext>template syl &lt;u&gt;multi&lt;/u&gt;: {\an5\pos($scenter,$smiddle)\1a&amp;HFF&amp;\t($start,$end,\bord5\3a&amp;HFF&amp;)}
karaoke: {\k33}風&lt;u&gt;{\k36}#&lt;/u&gt;{\k89}の{\k46}花&lt;u&gt;{\k28}#&lt;/u&gt;{\k57}よ
</code></pre><p>The timed karaoke line uses basic multi-highlight markup, the <code>#</code> syllables, to create multi-highlight syllables. Such, the 風 (ka-ze) and 花 (ha-na) kanji each get stored as a single syllable that gets two highlights each, and the <code>#</code> characters aren&rsquo;t displayed at all in the applied effect. (They will still display if you try to play the timed karaoke line without applying any templates.)</p><p>The template uses the <em>multi</em> modifier to signal that it wants to use multi-highlights instead of just one highlight/application per displayed syllable. The effect is a kind of simple &ldquo;exploding border&rdquo;, but it explodes twice on both the 風 and 花 kanji. If the <em>multi</em> modifier wasn&rsquo;t there, it would only explode once on each.</p></div></div><h3 id=noblank>noblank <a href=#noblank class=anchor aria-hidden=true>#</a></h3><p>Specify that the template will not be applied to syllables considered &ldquo;blank&rdquo;. A syllable is considered blank if its tag-stripped text consists only of a combination of ASCII whitespace characters and ideographic fullwidth space characters, or is completely empty. A syllable is also considered empty if its duration is zero.</p><blockquote><p><em>See the <em>notext</em> modifier below for an example.</em></p></blockquote><h3 id=notext>notext <a href=#notext class=anchor aria-hidden=true>#</a></h3><p>Specify that the original text will not be appended to the output line.</p><p>This is intended for use primarily with templates that output drawing tags and similar.</p><p>Not applicable for code lines.</p><div class=card><strong class=card-header>Example</strong><div class=card-body><pre><code class=language-plaintext>code once: sword_shape = &quot;m 0 0 l 5 -5 l 5 -30 l 10 -30 l 10 -32 l 2 -32 l 2 -40 l -2 -40 l -2 -32 l -10 -32 l -10 -30 l -5 -30 l -5 -5 &quot;
template syl notext noblank: {\an5\move($scenter,!$smiddle-30!,$scenter,$smiddle,!$start-20!,$start)\p2}!sword_shape!
</code></pre><p>The first code line defines a vector drawing shape for convenience, so it doesn&rsquo;t clutter up the actual template lines later on. The drawing is of a small simple sword pointing downwards. The effect itself is these small swords dropping down onto the syllables, by a move.</p><p>The template uses the <em>notext</em> modifier to avoid getting the original syllable text shown, because it&rsquo;s being replaced with a vector drawing here. Also the <em>noblank</em> modifier is used to avoid producing anything for &ldquo;invisible&rdquo; syllables, eg. we don&rsquo;t want a sword dropping down on a lone timed space, that just looks dumb.</p></div></div><h3 id=repeat-_n_-loop-_n_>repeat <em>n</em>, loop <em>n</em> <a href=#repeat-_n_-loop-_n_ class=anchor aria-hidden=true>#</a></h3><p>Specify that the template will be applied the given number of times. Specifying the number of loops is required. The number of loops must be a constant integer number, it can not be a variable or otherwise calculated dynamically.</p><p><code>repeat</code> and <code>loop</code> are synonymous.</p><p>Note that the execution order of looped line templates and looped syl/furi templates is different. See <a href=/docs/latest/automation/karaoke_templater/template_execution_rules_and_order/>Template execution and order</a> for details.</p><div class=card><strong class=card-header>Example</strong><div class=card-body><pre><code class=language-ass>template syl &lt;u&gt;loop 4&lt;/u&gt;: {\move($x,$y,!$x+math.random(-30,30)!,!$y+math.random(-30,30)!,$start,$end)\alpha&amp;Hc0&amp;\t($start,$end,\alpha&amp;HFF&amp;)}
</code></pre><p>The <em>loop</em> modifier is used to created 4 copies of the syllable for each time this template is run. Each of those move in a random direction, up to 30 pixels away in X and Y direction. They also fade out.</p><p>The starting alpha for each copy, <code>&Hc0</code> is chosen as 256 - (256 / 4), 4 being the number of loops made. This way, the opacity for each copy adds up to exactly 256. (Technically it should be 255, but that can&rsquo;t be achieved with an even number of loops.)</p></div></div><blockquote><p><em>Also see the examples on the <a href=/docs/latest/automation/karaoke_templater/code_execution_environment/#loopingtemplates>Code execution environment</a> page for more advanced usage.</em></p></blockquote><div class="page-footer-meta d-flex flex-column flex-md-row justify-content-between"></div><div class="docs-navigation d-flex justify-content-between"><a href=/docs/latest/automation/karaoke_templater/template_execution_rules_and_order/><div class="card my-1"><div class="card-body py-2">&larr; Execution order</div></div></a><a class=ms-auto href=/docs/latest/automation/karaoke_templater/inline_variables/><div class="card my-1"><div class="card-body py-2">Inline-variables ($-variables) &rarr;</div></div></a></div></main></div></div></div><footer class="footer text-muted"><div class=container-fluid><div class=row><div class="col-lg-8 order-last order-lg-first"><ul class=list-inline><li class=list-inline-item>Powered by <a class=text-muted href=https://gohugo.io/>Hugo</a> and <a class=text-muted href=https://getdoks.org/>Doks</a>.<br>Copyright (c) AegiSite <a href=https://github.com/Aegisub/aegisite/graphs/contributors>contributors</a>.</li></ul></div><div class="col-lg-8 order-first order-lg-last text-lg-end"><ul class=list-inline><li class=list-inline-item><a href=/privacy-policy/>Privacy</a></li></ul></div></div></div></footer><script src=/js/bootstrap.min.44fc78ffe68ed681865871fdec9750ca44c6febe429bf0779d114896edde0f92b92891b983ef933484a02a2c7ceb3d1fa6392c39179350ad04197a153a2db970.js integrity="sha512-RPx4/+aO1oGGWHH97JdQykTG/r5Cm/B3nRFIlu3eD5K5KJG5g++TNISgKix86z0fpjksOReTUK0EGXoVOi25cA==" crossorigin=anonymous defer></script>
<script src=/js/highlight.min.ce39cca46643b8f4ca5d8866112a6450f305ee8373d516503859173f9f0bed10e50403f8e8b63fb61e2248e547d92ff356a1a02eb7a955bcedffff00ac246b98.js integrity="sha512-zjnMpGZDuPTKXYhmESpkUPMF7oNz1RZQOFkXP58L7RDlBAP46LY/th4iSOVH2S/zVqGgLrepVbzt//8ArCRrmA==" crossorigin=anonymous defer></script>
<script src=/main.min.a33bc2449cbb742040fdec17b8211fec297914dfe0ec540a9c14ec20318334b896421c46f3e42b9cba70003825423aa03f8997bac70f2e02e3555fe631d127ae.js integrity="sha512-ozvCRJy7dCBA/ewXuCEf7Cl5FN/g7FQKnBTsIDGDNLiWQhxG8+QrnLpwADglQjqgP4mXuscPLgLjVV/mMdEnrg==" crossorigin=anonymous defer></script></body></html>