<!doctype html><html lang=en-US><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><script>(()=>{var t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,e=localStorage.getItem("theme");t&&e===null&&(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")),t&&e==="dark"&&document.documentElement.setAttribute("data-dark-mode",""),e==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script><link rel=stylesheet href=/main.8eea9b71beda1575310e88d17ac79aea492cb5bff5f5200f7a1c3e1e650663f1a1c936a6654c061c012536cc53ee1bd37565a2870c09d7e287acd0f155bc7148.css integrity="sha512-juqbcb7aFXUxDojResea6kkstb/19SAPehw+HmUGY/GhyTamZUwGHAElNsxT7hvTdWWihwwJ1+KHrNDxVbxxSA==" crossorigin=anonymous><noscript><style>.collapse:not(.show){display:block}button.btn-toggle{cursor:unset}button.btn-toggle::before{display:none}.doks-subnavbar{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>VSFilter hacks - Aegisub</title>
<meta name=description content="There&amp;rsquo;s lots of versions of Gabest&amp;rsquo;s VSFilter subtitle renderer around, some people are even still using versions that are several years old and are missing features and bugfixes. There&amp;rsquo;s cases of people still distributing these old versions around, sometimes as part of a package with other software such as VirtualDub.
Now it happens that some time in 2006, Gabest seems to have lost interest in working on VSFilter, so nothing has happened from his side, not even bugfixes."><link rel=canonical href=/blog/vsfilter-hacks/><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:title" content="VSFilter hacks"><meta property="og:description" content="There&rsquo;s lots of versions of Gabest&rsquo;s VSFilter subtitle renderer around, some people are even still using versions that are several years old and are missing features and bugfixes. There&rsquo;s cases of people still distributing these old versions around, sometimes as part of a package with other software such as VirtualDub.
Now it happens that some time in 2006, Gabest seems to have lost interest in working on VSFilter, so nothing has happened from his side, not even bugfixes."><meta property="og:url" content="/blog/vsfilter-hacks/"><meta property="og:site_name" content="Aegisub"><meta property="article:published_time" content="2008-07-24T15:00:00+01:00"><meta property="article:modified_time" content="2008-07-24T16:38:14+01:00"><meta property="og:image" content="/img/logo.png"><meta property="og:image:alt" content="Aegisub"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@aegisub"><meta name=twitter:creator content><meta name=twitter:title content="VSFilter hacks"><meta name=twitter:description content><meta name=twitter:image content="/img/logo.png"><meta name=twitter:image:alt content="VSFilter hacks"><script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"/#/schema/organization/1","name":"Aegisub","url":"/","sameAs":["https://twitter.com/aegisub","https://github.com/Aegisub/Aegisub"],"logo":{"@type":"ImageObject","@id":"/#/schema/image/1","url":"/logo-aegisub.png","width":512,"height":512,"caption":"Aegisub"},"image":{"@id":"/#/schema/image/1"}},{"@type":"WebSite","@id":"/#/schema/website/1","url":"/","name":"Aegisub","description":"Aegisub is a free, cross-platform open source tool for creating and modifying subtitles. Aegisub makes it quick and easy to time subtitles to audio, and features many powerful tools for styling them, including a built-in real-time video preview.","publisher":{"@id":"/#/schema/organization/1"}},{"@type":"WebPage","@id":"/blog/vsfilter-hacks/","url":"/blog/vsfilter-hacks/","name":"VSFilter hacks","description":"","isPartOf":{"@id":"/#/schema/website/1"},"about":{"@id":"/#/schema/organization/1"},"datePublished":"2008-07-24T15:00:00CET","dateModified":"2008-07-24T16:38:14CET","breadcrumb":{"@id":"/blog/vsfilter-hacks/#/schema/breadcrumb/1"},"primaryImageOfPage":{"@id":"/blog/vsfilter-hacks/#/schema/image/2"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["/blog/vsfilter-hacks/"]}]},{"@type":"BreadcrumbList","@id":"/blog/vsfilter-hacks/#/schema/breadcrumb/1","name":"Breadcrumbs","itemListElement":[{"@type":"ListItem","position":1,"item":{"@type":"WebPage","@id":"/","url":"/","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@id":"/blogvsfilter-hacks/"}}]},{"@context":"https://schema.org","@graph":[{"@type":"Article","@id":"/#/schema/article/1","headline":"VSFilter hacks","description":"","isPartOf":{"@id":"/blog/vsfilter-hacks/"},"mainEntityOfPage":{"@id":"/blog/vsfilter-hacks/"},"datePublished":"2008-07-24T15:00:00CET","dateModified":"2008-07-24T16:38:14CET","author":{"@id":"/#/schema/person/2"},"publisher":{"@id":"/#/schema/organization/1"},"image":{"@id":"/blog/vsfilter-hacks/#/schema/image/2"}}]},{"@context":"https://schema.org","@graph":[{"@type":"Person","@id":"/#/schema/person/2","name":null,"sameAs":[]}]},{"@context":"https://schema.org","@graph":[{"@type":"ImageObject","@id":"/blog/vsfilter-hacks/#/schema/image/2","url":"/img/logo.png","contentUrl":"/img/logo.png","caption":"VSFilter hacks"}]}]}</script><meta name=theme-color content="#fff"><link rel=icon href=/favicon.ico sizes=any><link rel=icon type=image/svg+xml href=/favicon.svg><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest crossorigin=use-credentials href=/site.webmanifest></head><body class="blog single"><div class=sticky-top><div class=header-bar></div><header class="navbar navbar-expand-md navbar-light doks-navbar"><nav class="container-fluid flex-wrap flex-md-nowrap" aria-label="Main navigation"><a class="navbar-brand p-0 me-auto" href=/ aria-label=Aegisub>Aegisub
</a><button class="btn btn-menu d-block d-md-none order-5" type=button data-bs-toggle=offcanvas data-bs-target=#offcanvasDoks aria-controls=offcanvasDoks aria-label="Open main menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button><div class="offcanvas offcanvas-end border-0 py-md-1" tabindex=-1 id=offcanvasDoks data-bs-backdrop=true aria-labelledby=offcanvasDoksLabel><div class="header-bar d-md-none"></div><div class="offcanvas-header d-md-none"><h2 class="h5 offcanvas-title ps-2" id=offcanvasDoksLabel><a class=text-dark href=/>Aegisub</a></h2><button type=button class="btn-close text-reset me-2" data-bs-dismiss=offcanvas aria-label="Close main menu"></button></div><div class="offcanvas-body px-4"><h3 class="h6 text-uppercase mb-3 d-md-none">Main</h3><ul class="nav flex-column flex-md-row ms-md-n3"><li class=nav-item><a class="nav-link ps-0 py-1" href=/downloads/>Downloads</a></li><li class=nav-item><a class="nav-link ps-0 py-1" href=/docs/>Docs</a></li><li class=nav-item><a class="nav-link ps-0 py-1" href=https://github.com/Aegisub/Aegisub/issues>Bug Tracker</a></li><li class=nav-item><a class="nav-link ps-0 py-1 active" href=/blog/>Blog</a></li></ul><hr class="text-black-50 my-4 d-md-none"><h3 class="h6 text-uppercase mb-3 d-md-none">Socials</h3><ul class="nav flex-column flex-md-row ms-md-auto me-md-n5 pe-md-4"><li class=nav-item><a class="nav-link ps-0 py-1" href=https://github.com/Aegisub/Aegisub aria-label="View repository on GitHub"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg><small class="ms-2 d-md-none">GitHub</small></a></li></ul></div></div><button id=mode class="btn btn-link order-md-1" type=button aria-label="Toggle user interface mode">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button><div class="dropdown order-md-2"><button class="btn btn-doks-light dropdown-toggle" id=doks-languages data-bs-toggle=dropdown aria-expanded=false data-bs-display=static>
EN
<span class=dropdown-caret><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"/></svg></span></button><ul class="dropdown-menu dropdown-menu-end shadow rounded border-0" aria-labelledby=doks-languages><li><a class="dropdown-item current" aria-current=true href=/blog/vsfilter-hacks/>English</a></li><li><hr class=dropdown-divider></li><li><a class=dropdown-item rel=alternate href=/zh-cn hreflang=zh-cn lang=zh-cn>简体中文</a></li></ul></div></nav></header></div><div class="wrap container-fluid" role=document><div class=content><div class="row justify-content-center"><div class="col-md-12 col-lg-10 col-xl-8"><article><div class=blog-header><h1>VSFilter hacks</h1><p><small>Posted July 24, 2008 by <a class="stretched-link position-relative" href=/contributors/jfs/>jfs</a>&nbsp;&dash;&nbsp;<strong>4&nbsp;min read</strong></small><p></div><p class=lead></p><p>There&rsquo;s lots of versions of Gabest&rsquo;s VSFilter subtitle renderer around, some people are even still using versions that are several years old and are missing features and bugfixes. There&rsquo;s cases of people still distributing these old versions around, sometimes as part of a package with other software such as <a href=http://www.virtualdub.org/>VirtualDub</a>.</p><p>Now it happens that some time in 2006, Gabest seems to have lost interest in working on VSFilter, so nothing has happened from his side, not even bugfixes. Fortunately VSFilter is open source, so we have picked it up and made a <a href=http://en.wikipedia.org/wiki/Fork_%28software_development%29>fork</a>. We have included both some existing bugfixes and improvements that existed as patches, and also made our own bugfixes and further improvements.</p><p>I&rsquo;m going to talk about some of the improvements we have made throughout this post.</p><hr><p>First, I&rsquo;m going to assume you&rsquo;re familiar with most regular ASS override tags, if not you can get a refresher in <a href=http://aegisub.cellosoft.com/docs/ASS_Tags>our manual</a>. Second, not all of these improvements are available in the version of VSFilter we ship with the current release (2.1.2) of Aegisub, but they should all be in the next one (which will be 2.1.3 or 2.2.0, depending on circumstances.)</p><p><img class=img-fluid loading=lazy src=/img/blog/old/floatpos-demo.png width=216 height=300 alt="Four lines of text, each positioned 0.2 pixels further to the right, showing the effect of sub-pixel positioning"></p><p>Sometimes you need sub-pixel precision when positioning text and drawings. Normally you&rsquo;ve only been able to get this by setting the script resolution (PlayResX and PlayResY) to something larger than the video resolution, but the &ldquo;float \pos&rdquo; patch changes this. It allows you to use decimal/floating point numbers for positioning lines and gives you up to 1/8th pixel precision.</p><p>The image to the left shows four lines of text positioned at different X coordinates. You can see how they move ever so slightly, although not a full pixel.</p><hr><p>The tags <strong>\fax</strong> and <strong>\fay</strong> allow you to do <em>shearing</em> operations on your text. This is a bit like rotations, except that it&rsquo;s not. They are especially useful for doing perspective correction when you are typesetting signs rotated in 3D.</p><p><img class=img-fluid loading=lazy src=/img/blog/old/faxfay-demo.png width=615 height=262 alt="Demonstration of \fax and \fay tags"></p><hr><p>Shortly before Gabest dropped development of VSFilter, he introduced the &ldquo;ASS2&rdquo; format. This isn&rsquo;t very well known, and it only has minor changes over the original ASS format. One of the things was a new karaoke timing tag, <strong>\kt</strong>. While Aegisub can read ASS2 files it can&rsquo;t write them, so if you edit them in Aegisub you will lose some information. It doesn&rsquo;t have support for timing with the \kt tag either, but you can of course still use that and use all the additional features of ASS2 if you edit the file with a text editor.</p><p>So what <em>is</em> \kt? It&rsquo;s &ldquo;set absolute timing&rdquo;, it allows you to move both back and forth in time of highlight without highlighting other syllables. It is probably best illustrated with an example:</p><pre><code class=language-ass>{\kf10}ABC {\kt20\kf10}DEF {\kt10\kf10}GHI
</code></pre><p>When you render this example, you will first see ABC highlight. Then GHI will follow, because its highlight is set to start at time 10 by \kt. Finally, DEF will highlight because its start time was set to 20 by \kt. You can also use \kt to make karaoke syllables overlap in timing.</p><hr><p>Originally the <strong>\be</strong> tag (Blur Edges) only allowed blurring to be turned on or off, and was very &ldquo;weak&rdquo;, the blur effect was hard to notice at all. We have updated it so it supports variable strength blur effects now, and you can also use it with \t to animate the blur strength.</p><p>Because \be doesn&rsquo;t look very high at high values we have also introduced the alternate <strong>\blur</strong> tag, which performs the blur effect using a two-pass gaussian blur algorithm. This gives a much nicer and wider blur, especially at high values.</p><p><img class=img-fluid loading=lazy src=/img/blog/old/be-blur-demo.png width=424 height=163 alt="Demonstration and comparison of \be and \blur tags with different parameters"></p><p>I will discuss why \be and \blur are &ldquo;blur edges&rdquo; effects and not &ldquo;blur everything&rdquo; effects tomorrow.</p><hr><p><img class=img-fluid loading=lazy src=/img/blog/old/xshad-yshad-demo.png width=236 height=160 alt="Demonstration of \xshad and \yshad tags"></p><p>If you&rsquo;ve ever wanted the shadow to be positioned differently than just &ldquo;X down and X right&rdquo;, the <strong>\xshad</strong> and <strong>\yshad</strong> tags are probably just what you want. These work like \shad except that they set only the X or Y displacement. You can even use negative values with them!</p><hr><p><img class=img-fluid loading=lazy src=/img/blog/old/xbord-ybord-demo.png width=239 height=154 alt="Demonstration of \xshad and \yshad tags"></p><p>Finally there&rsquo;s the <strong>\xbord</strong> and <strong>\ybord</strong> tags. They can be useful for various things, but one of the intentions was to better support anamorphic video: The \xbord and \ybord tags allows you to control the border width in X and Y direction separately. You can even disable border in one direction entirely!</p><p>You can also combine this with strong \be or \blur and maybe some shadow for other interesting effects.</p><hr><p>Again, remember that many of these tags require a very new version of VSFilter. For example, the \blur tag was only added yesterday..! The next release of Aegisub will ship with a VSFilter version that supports all of them, so if you want to safe you can wait until then. If you&rsquo;re impatient, you can <a href="http://malakith.net/aegisub/index.php?topic=651.0">follow development on the Aegisub forum</a>.</p></article></div></div></div></div><footer class="footer text-muted"><div class=container-fluid><div class=row><div class="col-lg-8 order-last order-lg-first"><ul class=list-inline><li class=list-inline-item>Powered by <a class=text-muted href=https://gohugo.io/>Hugo</a> and <a class=text-muted href=https://getdoks.org/>Doks</a>.<br>Copyright (c) AegiSite <a href=https://github.com/Aegisub/aegisite/graphs/contributors>contributors</a>.</li></ul></div><div class="col-lg-8 order-first order-lg-last text-lg-end"><ul class=list-inline><li class=list-inline-item><a href=/privacy-policy/>Privacy</a></li></ul></div></div></div></footer><script src=/js/bootstrap.min.5a6f7686a75311832f9f1feed99f35019d824bf8b16fb67dd245d71ba2ac41ef01d924cad506ad7a1432fb579700210c4704c92242a4f97bea71b5f5ac14e506.js integrity="sha512-Wm92hqdTEYMvnx/u2Z81AZ2CS/ixb7Z90kXXG6KsQe8B2STK1QatehQy+1eXACEMRwTJIkKk+XvqcbX1rBTlBg==" crossorigin=anonymous defer></script><script src=/js/highlight.min.d630cc4574996a818cbdbd5afead8769c9eab7d78e246d788b1f528b488e569aa8fc430a90ce1c215cd081f313a001e1fe68697ab68abe0482784f1a361d1703.js integrity="sha512-1jDMRXSZaoGMvb1a/q2Hacnqt9eOJG14ix9Si0iOVpqo/EMKkM4cIVzQgfMToAHh/mhperaKvgSCeE8aNh0XAw==" crossorigin=anonymous defer></script><script src=/main.min.7a18882f4fe145c62fd85456a9819b35aa7789857e97e862e92d93552fdd70a8b1b6c059d624387ca658ddf11203732f358d21737a0dbc03f6dce91938e85253.js integrity="sha512-ehiIL0/hRcYv2FRWqYGbNap3iYV+l+hi6S2TVS/dcKixtsBZ1iQ4fKZY3fESA3MvNY0hc3oNvAP23OkZOOhSUw==" crossorigin=anonymous defer></script></body></html>