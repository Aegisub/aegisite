<!DOCTYPE html>
<html>

<!-- Mirrored from aegi.vmoe.info/docs/3.2/Automation/Lua/Subtitle_file_interface/ by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 24 Jun 2022 03:14:40 GMT -->
<head>
<meta charset='utf-8'>
<title>字幕文件接口 - Aegisub 手册</title>
<meta content='Aegisub, 字幕, VSFilter, Medusa, Sabbu, Vmoe, ' name='Keywords'>
<meta content='https://aegi.vmoe.info/' name='Author'>
<meta content='Copyright (C) 2012 Aegisub Project. Chinese translation by Vmoe Fansub.' name='Copyright'>
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<link href='index.html' rel='canonical'>
<link href="../../../img/favicon.ico" rel="icon" type="image/ico" />
<link href="../../../css/style-91e1dc35.css" media="screen" rel="stylesheet" type="text/css" />
</head>
<body>
<div class='navbar navbar-fixed-top'>
<div class='navbar-inner'>
<div class='container-fluid'>
<a class="brand" style="padding: 3px 10px" href="https://aegi.vmoe.info/"><img alt="Aegisub" width="82" height="33" src="../../../img/logo-top-bar-aeef0634.png" />
</a>
<ul class='nav'>
<li>
<a href="https://aegi.vmoe.info/">主页</a>
</li>
<li>
<a href="http://blog.aegisub.org/">新闻</a>
</li>
<li>
<a href="https://aegi.vmoe.info/downloads/">下载</a>
</li>
<li class='active'>
<a href="https://aegi.vmoe.info/docs/">手册</a>
</li>
<li>
<a href="http://devel.aegisub.org/">报告Bug</a>
</li>
<li>
<a href="http://forum.aegisub.org/">论坛</a>
</li>
<li>
<a href="irc://irc.rizon.net/aegisub">IRC</a>
</li>
</ul>
<ul class='nav pull-right'>
<li>
<form action='https://www.paypal.com/cgi-bin/webscr' method='post' style='padding: 13px 0 6px 0; margin: 0' target='_top'>
<input name='cmd' type='hidden' value='_s-xclick'>
<input name='encrypted' type='hidden' value='-----BEGIN PKCS7-----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-----END PKCS7-----
'>
<input alt='PayPal - The safer, easier way to pay online!' border='0' name='submit' src='https://www.paypalobjects.com/zh_CN/i/btn/btn_donate_SM.gif' type='image'>
<img alt='' border='0' height='1' src='https://www.paypalobjects.com/en_US/i/scr/pixel.gif' width='1'>
</form>
</li>
<li>
<a href='http://flattr.com/thing/922938/Aegisub-Advanced-Subtitle-Editor' target='_blank'>
<img alt='Flattr this' src='https://flattr.com/' title='Flattr this'>
</a>
</li>
</ul>
</div>
</div>
</div>
<div class='fluid-row'>
<div class='span3'>
<ul id='manual-sidebar'>
<li class='nav-header'>导航</li>
<li>
<a href="../../../Main_Page/index.html">主页</a>
</li>
<li class='nav-header'>介绍</li>
<li>
<a href="../../../About/index.html">Aegisub 是什么？</a>
</li>
<li>
<a href="../../../Highlights/index.html">亮点</a>
</li>
<li>
<a href="../../../Credits/index.html">贡献者</a>
</li>
<li>
<a href="../../../Support/index.html">支持 Aegisub</a>
</li>
<li>
<a href="../../../FAQ/index.html">FAQ</a>
</li>
<li>
<a href="../../../Tutorials/index.html">教程</a>
</li>
<li class='nav-header'>制作字幕</li>
<li>
<a href="../../../Editing_Subtitles/index.html">编辑字幕</a>
</li>
<li>
<a href="../../../Exporting/index.html">导出字幕</a>
</li>
<li>
<a href="../../../Attaching_subtitles_to_video/index.html">应用字幕</a>
</li>
<li>
<a href="../../../Spell_Checker/index.html">拼写检查器</a>
</li>
<li>
<a href="../../../Translation_Assistant/index.html">翻译助手</a>
</li>
<li>
<a href="../../../Paste_Over/index.html">选择性粘贴</a>
</li>
<li>
<a href="../../../Select_Lines/index.html">选择多行</a>
</li>
<li class='nav-header'>排版</li>
<li>
<a href="../../../Typesetting/index.html">介绍</a>
</li>
<li>
<a href="../../../Video/index.html">使用视频</a>
</li>
<li>
<a href="../../../Styles/index.html">编辑样式</a>
</li>
<li>
<a href="../../../Visual_Typesetting/index.html">可视化排版</a>
</li>
<li>
<a href="../../../ASS_Tags/index.html">ASS特效标签</a>
</li>
<li>
<a href="../../../Colour_Picker/index.html">颜色选择器</a>
</li>
<li>
<a href="../../../Styling_Assistant/index.html">样式助手</a>
</li>
<li>
<a href="../../../Resolution_Resampler/index.html">重设分辨率</a>
</li>
<li>
<a href="../../../Fonts_Collector/index.html">字体收集器</a>
</li>
<li class='nav-header'>时间轴</li>
<li>
<a href="../../../Audio/index.html">载入音频</a>
</li>
<li>
<a href="../../../Timing/index.html">使用音频打轴</a>
</li>
<li>
<a href="../../../Shift_Times/index.html">平移时间</a>
</li>
<li>
<a href="../../../Timing_Post-Processor/index.html">时间后续处理器</a>
</li>
<li>
<a href="../../../Kanji_Timer/index.html">汉字计时器</a>
</li>
<li class='nav-header'>自动化</li>
<li>
<a href="../../index.html">概述</a>
</li>
<li>
<a href="../../Karaoke_Templater/index.html">卡拉OK模版</a>
</li>
<li>
<a href="../index.html">Lua 相关</a>
</li>
<li class='nav-header'>杂项</li>
<li>
<a href="../../../Options/index.html">Aegisub选项</a>
</li>
<li>
<a href="../../../Properties/index.html">脚本配置</a>
</li>
<li>
<a href="../../../Attachment_Manager/index.html">附件管理器</a>
</li>
</ul>
</div>
<div class='span9' id='manual-body'>
<h1 class='page-header'>字幕文件接口</h1>
<p>This page describes the <strong>subtitle file interface</strong> use in Automation 4 Lua
scripts to manipulate subtitle files.</p>

<p>此页面描述了用于 Automation 4 Lua 脚本中操作字幕文件的<strong>字幕文件接口</strong>。</p>

<p>There is one special object (the <strong>subtitles</strong> user data object) which has a
number of functions, and a number of table formats defined.</p>

<p>这里定义了一个拥有多个方法（function）、表格式（table format）定义的特殊对象（<strong>subtitles</strong>用户数据对象）。</p>

<h2 id="subtitles-">subtitles 对象</h2>
<p>Most Automation 4 Lua feature functions are passed a <strong>subtitles object</strong> when
called. This object is used to obtain data from and manipulate the subtitles
the feature is being applied on.</p>

<p><strong>subtitles对象</strong>会在多数基于 Automation 4 Lua 的函数在被调用时被传入。此对象用于在应用功能时获得相应数据并操作字幕文件。</p>

<p>A subtitles object can have two special properties depending on the context it
is created for:</p>

<p>一个subtitles对象可以根据使用场景来定义两种特殊属性：</p>

<dl>
  <dt><strong>只读</strong></dt>
  <dd>Some feature functions must not be allowed to modify the subtitle file at
all. This includes for example <a href="../Registration/index.html#macrovalidationfunction">macro validation
functions</a> and <a href="../Registration/index.html#_export_filter_configuration_panel_provider">export
filter configuration panel
providers</a>,
because this would be outside user expectations.</dd>
  <dd>
    <p>一些功能函数理应不允许其修改字幕文件。这种函数包括例如 <a href="../Registration/index.html#macro-validation-function">宏验证函数</a> 以及 <a href="../Registration/index.html#export-filter-processing-function">导出滤镜配置面板提供程序</a>，因为可能会有与用户预期不符的效果。</p>
  </dd>
  <dt><strong>允许撤消点</strong></dt>
  <dd>Only <a href="../Registration/index.html#macroprocessingfunction">macro processing
functions</a> can set undo
points, as it makes no sense to do so at any other time.</dd>
</dl>

<p>仅有<a href="../Registration/index.html#macro-processing-function">宏处理函数</a>可设置撤销点，因为在其他任何时候设置没有意义。</p>

<p>To allow the most flexibility, the subtitles object represents a complete ASS
format file, line by line, including all meta-lines such as section headers.</p>

<p>为提供最大的灵活性，subtitles 对象可表示完整的ASS格式文件的每一行，包括meta行的内容，例如每个section的标题。</p>

<p>The subtitles object supports the following operations:</p>

<p>subtitles 对象支持如下的操作：</p>

<ul>
  <li>Retrieve number of lines</li>
  <li>Read line</li>
  <li>Append line (to end of file)</li>
  <li>Insert line (at arbitrary position in file)</li>
  <li>Replace line</li>
  <li>Delete line</li>
  <li>
    <p>Create undo point</p>
  </li>
  <li>获取总行数</li>
  <li>读取行</li>
  <li>附加行（至文件末尾）</li>
  <li>插入行（至文件任意位置）</li>
  <li>删除行</li>
  <li>创建撤销点</li>
</ul>

<p>These operations are described in detail below. In all operation synopses and
examples, <code>subtitles</code> is used for name of the subtitles object being operated
on.</p>

<p>下面会详细描述这些操作。在所有操作摘要及示例中，<code>subtitles</code>是正在操作的 subtitles
对象的名称。</p>

<h3 id="section">获取总行数</h3>
<p>摘要:</p>

<ul>
  <li><code>num_lines = #subtitles</code></li>
  <li><code>num_lines = subtitles.n</code></li>
</ul>

<p>This operation retrieves the total number of lines in the subtitle file
currently. This number only changes by using the other operations on the
subtitle object. It cannot change spontaneously during the execution of a
script.</p>

<p>此操作可获取当前字幕文件中的总行数。此数字仅会在对 subtitle 对象使用其他操作时更改，它不会在执行脚本时自发更改。</p>

<p>Note that this is not a constant-time lookup, but lua does cache the value if
used in <code>for i = 1, #subs</code>.</p>

<p>注意这个查找所消耗的时间不是常数阶的，但在 <code>for i = 1, #subs</code> 中使用的话Lua会缓存这个值。</p>

<dl>
  <dt><strong><code>num_lines</code></strong> (<code>number</code>)</dt>
  <dd>Number of lines in the subtitle file.</dd>
  <dd>
    <p>字幕文件的行数。</p>
  </dd>
</dl>

<p>The first syntax is the preferred one, per normal Lua 5.1 coding style.</p>

<p>根据正常的Lua 5.1编码风格，第一个写法是首选。</p>

<h3 id="section-1">读取行</h3>
<p>摘要：<code>line = subtitles[i]</code></p>

<p>This retrieves the indexed line and creates a new table object with data about
it.</p>

<p>这会读取索引行并创建一个新的表对象来存储此行的数据。</p>

<dl>
  <dt><strong><code>line</code></strong> (<code>table</code>)</dt>
  <dd>Table with data about the retrieved line.</dd>
  <dd>
    <p>包含读取行数据的一个表。</p>
  </dd>
  <dt><strong><code>i</code></strong> (<code>number</code>)</dt>
  <dd>Index into the subtitles file of the line number to retrieve. This is
one-based, i.e. the first line in the file has index 1.</dd>
  <dd>
    <p>获取的行位于字幕文件中的行号。这个值始于1，即文件中第一行的索引是1。</p>
  </dd>
</dl>

<p>Aegisub internally stores the subtitle file as a linked list, which means that
random access is slow, but sequential access is fast. While Automation 4 Lua
presents the subtitles as if it was an array, it internally maintains a cursor
used to optimise for sequential access. It is faster to access a line with an
index close to the one you last accessed than to access one further away. It is
always fast to access lines near the beginning or end of the file.</p>

<p>Aegisub内部将字幕文件存储为一个链表，这意味着随机访问慢，但顺序访问快。虽然 Automation 4 Lua
将 subtitles 表示为数组，但它内部维护着一个用于优化顺序访问的指针。访问索引接近上次访问的行会比访问远离的行更快。访问文件开头或结尾附近的行时总会很快。</p>

<h3 id="section-2">附加行</h3>
<p>摘要：</p>

<ul>
  <li><code>subtitles[0] = line</code></li>
  <li><code>subtitles.append(line)</code></li>
  <li><code>subtitles.append(line1, line2, ...)</code></li>
</ul>

<p>Append one or more lines to the end of the appropriate section of the subtitles
file. If the section does not exist, it will be created. In the first syntax, it
is the number 0 (zero) used for index. (Setting index 0 causes an append
operation.)</p>

<p>附加一行或多行至字幕文件指定的section末尾。如果相应section不存在则会被创建。在第一种写法里，数字0（零）被用作索引。（设置索引为0即为附加操作。）</p>

<p>The third syntax supports appending multiple lines with one single operation.</p>

<p>第三个写法支持一次操作附加多行。</p>

<dl>
  <dt><strong><code>line</code></strong> (<code>table</code>)</dt>
  <dd>The line object table to append to the subtitles file.</dd>
  <dd>附加至字幕文件的行的对象表。</dd>
</dl>

<p>The latter function-call syntax is preferred for readability. The table index
setting syntax is slightly faster.</p>

<p>后两个函数调用写法更利于可读性。表索引写法会稍微快一点。</p>

<p>Appending a line does not move the cursor otherwise used to optimise sequential
access.</p>

<p>附加行不会改变之前用于优化顺序读取的指针。</p>

<h3 id="insert-line">Insert line</h3>
<p>Synopsis:</p>

<ul>
  <li><code>subtitles[-i] = line</code></li>
  <li><code>subtitles.insert(i, line)</code></li>
  <li><code>subtitles.insert(i, line1, line2, ...)</code></li>
</ul>

<p>Inserts one or more lines into the subtitles file before the numbered line. In
the first syntax, you supply a negative index. E.g. to insert a line before
line 5 you supply index -5 (negative 5.)</p>

<p>Inserting lines will move lines after the inserted lines to move down in index,
such that old indexes will no longer be valid.</p>

<p>Inserting lines into the wrong section of the subtitle file has undefined
results, and may break in weird ways.</p>

<dl>
  <dt><strong><code>i</code></strong> (<code>number</code>)</dt>
  <dd>Index to insert before.</dd>
  <dt><strong><code>line</code></strong> (<code>table</code>)</dt>
  <dd>The line object table to insert into the subtitles file.</dd>
</dl>

<p>The latter function-call syntax is preferred for readability. The table index
setting syntax is slightly faster.</p>

<p>Inserting lines uses the list cursor and will move it.</p>

<h3 id="replace-line">Replace line</h3>
<p>Synopsis: <code>subtitles[i] = line</code></p>

<p>Delete the indexed line and insert the given line in its stead.</p>

<dl>
  <dt><strong><code>i</code></strong> (<code>number</code>)</dt>
  <dd>The line index to replace at.</dd>
  <dt><strong><code>line</code></strong> (<code>table</code>)</dt>
  <dd>The line object table to replace with.</dd>
</dl>

<p>Replacing lines uses the list cursor and will move it.</p>

<p>Replacing lines with lines of a different type has undefined results, and may
break in weird ways.</p>

<h3 id="delete-line">Delete line</h3>
<p>Synopsis:</p>

<ul>
  <li><code>subtitles[i] = nil</code></li>
  <li><code>subtitles.delete(i)</code></li>
  <li><code>subtitles.delete(i1, i2, ...)</code></li>
  <li><code>subtitles.delete({i1, i2, ...})</code></li>
  <li><code>subtitles.deleterange(first, last)</code></li>
</ul>

<p>Remove one or more from the subtitles file. All lines after the deleted line(s)
will move up to fill the deleted indexes, so old indexes will no longer be
valid.</p>

<p>The third syntax supports deleting multiple indexed lines in one call. The
indexes given must all be correct for the subtitle file's state before any
lines are deleted.</p>

<p>The fourth syntax is identical to <code>subtitles.delete(unpack(tbl))</code>, but
supports tables which are too large to unpack and will be slightly
faster if you have the lines in a table anyway.</p>

<p>Trying to delete a nonexistent line is an error, except for with deleterange.</p>

<p>The fifth syntax deletes a range of lines, both indexed lines inclusive.</p>

<dl>
  <dt><strong><code>i</code></strong> (<code>number</code>)</dt>
  <dd>Index of the line to delete.</dd>
  <dt><strong><code>first</code></strong> (<code>number</code>)</dt>
  <dd>Index of the first line of the range to delete.</dd>
  <dt><strong><code>last</code></strong> (<code>number</code>)</dt>
  <dd>Index of the last line of the range to delete.</dd>
</dl>

<p>Deleting lines uses the list cursor and will move it.</p>

<h3 id="creating-an-undo-point">Creating an undo point</h3>
<p>Synopsis: <code>aegisub.set_undo_point(description)</code></p>

<p>You should always create an undo point at the end of any macro which made
changes to the subtitles object. If you do not, one will automatically be set
for you, but in future versions of Aegisub this may change to rolling back any
changes made instead.</p>

<p>You can set multiple undo points in a single macro, but it is rarely a good
idea to.</p>

<p>Only available in macro processing functions, as it doesn't make sense anywhere
else either.</p>

<dl>
  <dt><strong><code>description</code></strong> (<code>string</code>)</dt>
  <dd>Text to appear in the Edit menu for the Undo and Redo items to describe the
action that can be undone.</dd>
</dl>

<p>This is not really a function in the subtitles object, but it is still closely
tied to it.</p>

<h2 id="line-data-tables">Line data tables</h2>
<p>When you read lines from the subtitle file object they will always be one of a
few classes of lines, and when you write lines back to the subtitle file they
must also follow the format of one of those classes.</p>

<p>The line data objects are regular Lua tables with some specific fields defined.</p>

<p>Here's a list of the different classes of lines:</p>

<dl>
  <dt><strong><code>info</code></strong></dt>
  <dd>A key/value pair in the Script Info section of the file</dd>
  <dt><strong><code>style</code></strong></dt>
  <dd>a regular style definition line</dd>
  <dt><strong><code>dialogue</code></strong></dt>
  <dd>A dialogue line, which may or may not be a comment. These are the lines you
see in the grid in Aegisub.</dd>
  <dt><strong><code>unknown</code></strong></dt>
  <dd>An unknown kind of line.</dd>
</dl>

<p>There's three fields that always exist in all line data tables:</p>

<dl>
  <dt><strong><code>class</code></strong> (<code>string</code>)</dt>
  <dd>The name of the class of line this is, see the list above.</dd>
  <dt><strong><code>raw</code></strong> (<code>string</code>)</dt>
  <dd>The raw text of the line, from first to last character on the physical line.</dd>
  <dt><strong><code>section</code></strong> (<code>string</code>)</dt>
  <dd>Which section of the file the line belongs to. If the line is placed before
the first section heading, this field is <code>nil</code>.</dd>
</dl>

<h3 id="info-class"><code>info</code> class</h3>
<p>This class defines two additional fields:</p>

<dl>
  <dt><strong><code>key</code></strong> (<code>string</code>)</dt>
  <dd>The part of the line before the first colon, with leading and trailing spaces
removed.</dd>
  <dt><strong><code>value</code></strong> (<code>string</code>)</dt>
  <dd>Everything after the first colon on the line, also with leading and trailing
spaces removed.</dd>
</dl>

<h3 id="style-class"><code>style</code> class</h3>
<p>This class defines a large number of additional fields. It's usually processed
by the <em>karaskel</em> and modified a bit by that. See the <em>karaskel.lua</em> section on
<a href="../Modules/karaskel.lua/index.html#styletable">style tables</a> for more
information about this class.</p>

<h3 id="dialogue-class"><code>dialogue</code> class</h3>
<p>This class defines a large number of additional fields. It's usually processed
by the <em>karaskel</em> and has many calculated fields added by that. See the
<em>karaskel.lua</em> section on <a href="../Modules/karaskel.lua/index.html#dialoguelinetable">dialogue line
tables</a> for more
information on this class.</p>

<h3 id="unknown-class"><code>unknown</code> class</h3>
<p>No additional fields are defined by this class, due to its nature. This might
be things like files embedded into the subtitles. You shouldn't try to work
with these lines unless you really know what you're doing. Deleting, modifying
and inserting <code>unknown</code> lines has undefined consequences. (That means, even if
it works today it might not work tomorrow or in the next version of Aegisub.)</p>

<div class='navbox'>
<div><a href="../../index.html">自动化</a></div>
<table>
<tr>
<th>概述:</th>
<td><a href="../../Manager/index.html">自动化脚本管理器</a> • <a href="../../Running_macros/index.html">运行宏</a> • <a href="../../../Exporting/index.html">使用导出滤镜</a> • <a href="../../Included_macros/index.html">示例宏</a></td>
</tr>
<tr>
<th><a href="../../Karaoke_Templater/index.html">卡拉OK模版执行器</a> 相关:</th>
<td><a href="../../Karaoke_Templater/Declaring_template_and_code_lines/index.html">声明模版</a> • <a href="../../Karaoke_Templater/Template_execution_rules_and_order/index.html">模版执行顺序</a> • <a href="../../Karaoke_Templater/Template_modifiers/index.html">修饰语</a> • <a href="../../Karaoke_Templater/Inline_variables/index.html">内联变量($变量)</a> <br> <a href="../../Karaoke_Templater/Code_lines_and_blocks/index.html">code行和code区</a> • <a href="../../Karaoke_Templater/Code_execution_environment/index.html">代码执行环境</a></td>
</tr>
<tr>
<th><a href="../index.html">Lua API</a> 相关:</th>
<td><a href="../Registration/index.html">注册</a> • <a href="index.html">字幕对象</a> • <a href="../Progress_reporting/index.html">进度反馈</a> • <a href="../Dialogs/index.html">对话框</a> • <a href="../Miscellaneous_APIs/index.html">其他APIs</a></td>
</tr>
<tr>
<th><a href="../Modules/index.html">Lua 模块</a>:</th>
<td><a href="../Modules/karaskel.lua/index.html">karaskel.lua</a> • <a href="../Modules/util/index.html">util</a> • <a href="../Modules/unicode/index.html">unicode</a> • <a href="#">cleantags.lua</a> • <a href="../Modules/clipboard/index.html">clipboard</a> • <a href="../Modules/re/index.html">re</a></td>
</tr>
<tr>
<th>Karaskel 概念:</th>
<td><a href="../Modules/karaskel.lua/index.html#style-table">Style tables</a> • <a href="../Modules/karaskel.lua/index.html#dialogue-line-table">Dialogue line tables</a> • <a href="../Modules/karaskel.lua/index.html#karaoke-and-furigana-syllable-tables">Syllable tables</a> • <a href="../../../Karaoke_inline-fx/index.html">内联特效</a> • <a href="../../../Furigana_karaoke/index.html">注音假名</a></td>
</tr>
</table>
</div>

</div>
</div>

<footer class='footer span12 pagination-centered'>
<p>
Aegisub 非官方中文网站由
<a href='http://vmoe.info/'>Vmoe字幕组</a>
提供支持，不保证内容绝对准确，请以
<a href='http://www.aegisub.org/'>Aegisub 官网</a>
为准。
</p>
</footer>
</body>

<!-- Mirrored from aegi.vmoe.info/docs/3.2/Automation/Lua/Subtitle_file_interface/ by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 24 Jun 2022 03:14:41 GMT -->
</html>

