---
title: 时间后续处理器
menu:
  docs:
    parent: timing
weight: 5300
---

时间后续处理器是很有用的工具，它可以通过各种方式来自动修正时间。

## 总览

正如截图所示，该工具具有三个功能:

- 提前开始/延后结束
- 使相邻字幕行连续，通过延后或者提前它们的开始和(或)结束时间
- 使行的开始/结束时间紧贴关键帧(只有在读取了视频的情况下才有效)

![Dialog_timing_processor](/img/3.2/Dialog_timing_processor.png#center)

同时选择多项时的处理顺序就像对话框中由上到下的顺序一样。
这就是说，首先，提前开始/延后结束操作完成，随之会检查相邻行(依照给定的阈值判断是否相邻)并实施连接相邻行操作，最后使行的开始/结束时间紧贴关键帧。

## 应用到样式

这个区域决定了哪些样式会被处理------勾选所有你想要处理的样式。这样你可以排除掉一些非对话内容比如标记或者卡拉OK。

## 选项

勾选 "仅应用于所选" 来限定工具作用范围为选择的行。
如果未勾选，文件中所有匹配样式的行都会被影响。

## 提前开始/延后结束

这个功能用来延伸行的开始/结束时间，也就是提前开始时间和延后结束时间。工具会把给定时间(毫秒)分别地应用到每行的开始和结束时间上。你可以同时选择提前开始和延后结束，仅选择一个，或者都不选。提前开始/延后结束永远也不会使行的时间重叠，除非在处理前就存在重叠状况。

## 使相邻字幕行连续

这个功能会检查任何两行的开始和结束时间相差是否小于给定的阈值。如果足够小，一行或者多行的开始和(或)结束时间就会被修改成连续，即一行消失，另一行在下一帧出新，在视觉上是连续的，中间没有留空字幕的帧。

*偏重* 滑块决定了行的时间是如何被延伸的。
滑块滑到最右情况下应用本功能，第一行的结束时间会完全贴近第二行的开始时间，对第二行没有任何动作。
滑块滑到最左情况下应用本功能，第二行的开始时间会完全贴近第一行的结束时间，对第一行没有任何动作。
把滑块拉到中间位置，第一行的结束时间会延后，第二行的开始时间会提前相同的量，所以最终是在两个时间中间点构成连续。
滑块的作用就是控制两个时间 "相遇" 的位置。
举个例子，如果阈值设定为1000，滑块滑到 3/4
位置(粗略看起来就像上面的截屏一样)，第一行的结束时间会被延后 750
ms，第二行的开始时间会被提前 250 ms。

注意，当你使用 *使相邻字幕行连续*
来消除重叠的时候，你也许不想(不应该)开启
提前开始/延后结束，因为它的应用在消除重叠之前。

## 紧贴关键帧

紧贴关键帧功能是一类自动化场景定时功能。它可能是三项功能中最有用的，不过只有在读取了视频或者关键帧后才有用。有关
[关键帧]({{< relref "Video#keyframes" >}})。

紧贴关键帧功能会计算行的开始/结束时间和最近关键帧的时间差，如果时间差小于给定的阈值，时间就会被延长或缩短到关键帧所在时间。

有四项阈值是你要考虑的： (以下有关时间点的描述均以向左向右进行\*)

*开始前阈*
: 如果该行 *早于*
  距它最近关键帧开始，二者时间差(毫秒)小于等于这个值时，行开始时间会向右移到关键帧时间。

*开始后阈*
: 如果该行 *晚于*
  距它最近关键帧开始，二者时间差(毫秒)小于等于这个值时，行开始时间会向左移到关键帧时间。

*结束前阈*
: 如果该行 *早于*
  距它最近关键帧结束，二者时间差(毫秒)小于等于这个值时，行结束时间会向右移到关键帧时间。

*结束后阈*
: 如果该行 *晚于*
  距它最近关键帧结束，二者时间差(毫秒)小于等于这个值时，行结束时间会向左移到关键帧时间。

当使用这个功能时，记住你的"提前开始/延后结束"值！你的 *开始前阈* 和
*结束后阈*
值正常情况下应该至少和这两个值一样大，不然一开始按照场景定时时所做的工作可能白做。

紧贴关键帧功能还可以用来进行逐帧时间轴的修正，十分快速。如果你的字幕脚本中的时间轴全都是逐帧的，直接把阈值设置为50，关闭
提前开始/延后结束 和
使相邻字幕行连续，选好你要应用的样式点击应用，问题立刻解决。

\*forward和backward直译为向前向后会产生歧义，为方便理解，采用直观的左右来表示时间的前后。
