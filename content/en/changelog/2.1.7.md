---
title: 2.1.7
menu:
  changelogs:
    parent: '2.1'
weight: -217
date: 2009-07-14
---

## Bugs fixed

### All platforms

- Fixed decoding of AAC with the FFmpeg audio provider. (TheFluff)
- Audio decoding errors will no longer crash the entire program; instead you'll get blank audio in the places where the audio could not be decoded. (jfs)
- The PCM WAV audio provider will now actually get used to load PCM WAV files. (TheFluff)
- The PCM WAV audio provider will no longer crash with files larger than 256 MB. (jfs, TheFluff)
- Exporting to subtitle formats that cannot handle more than one line on screen simultanously will now merge multiple lines properly, even if the source has uncommitted modifications. (jfs)
- Seeking in the video will no longer cause random crashes with providers that use the caching provider (i.e. all of them except Avisynth). (TheFluff)
- The "jump to" dialog box has had some minor cosmetic issues fixed, making it impossible to enter times/frame numbers after the video end. See bugtracker issue #804. (Harukalover, TheFluff)
- Fixed some rare VFR edge cases being handled wrong. See bugtracker issue #773. (Plorkyeran)
- The Automation3 (!) karaskel will no longer fail to process the last line of the file. (jfs)
- The "grid font face" option's font face browser will now actually update the setting instead of doing nothing. See bugtracker issues #706 and #821. (Harukalover)
- The program will no longer crash if CSRI is selected as subtitles renderer but no CSRI renderer is actually installed. See bugtracker issue #462. (Plorkyeran)
- Trying to edit a just deleted line will no longer cause crashes. See bugtracker issue #815. (Plorkyeran)
- Fixed some cosmetic issues regarding how the subtitles grid selection is moved after committing multiple lines, and how audio selection moves after committing. See bugtracker issue #794 for full details; see also issues #64 and #420. (Harukalover).
- Aegisub will no longer crash when playing video with no audio player/provider present. (Patch by Avi.)
- Reading subtitles from Matroska files will now work with files using the filename extensions .mka and .mks too, not just .mkv. (TheFluff)
- A lot of memory leaks all over the place have been fixed; Aegisub should use and leak less memory overall now. (Harukalover, verm, others)
- Aegisub will no longer crash when trying to read keyframes/timecodes from Matroska files generated by x264. (Haali, Myrsloik, TheFluff)
- Exporting to other subtitle formats will no longer fail to output the first line when using "local" as the text encoding. (TheFluff)
- Using the add lead-out/add lead-in buttons will now properly update the time edit boxes. See bugtracker issue #836. (Harukalover)
- Exporting to formats using SMPTE dropframe timecodes will now work properly and should no longer produce incorrect timecodes. (Plorkyeran, TheFluff)
- Lots of controls in the Automation4-Lua config dialogs will now handle default/initial values properly. See bugtracker issues #775 and #776. (jfs)
- Pressing the OK button in an Automation4-Lua config dialog with default buttons present will now return the button code properly. (jfs)
- The ASS styles header (\[V4+ Styles\]) will now consistently be written with a capital V, which seems to be the most compatible with other software. See bugtracker issue #690. (jfs)
- Exporting to the TranStation subtitle format will now detect and fix overlapping lines properly. See bugtracker issue #767. (TheFluff)
- In the Automation4-Lua karaoke templater, using fxgroup filtering when there is a "code syl" line present will now work properly. See bugtracker issue #845. (jfs)
- Exporting to other subtitle formats will no longer randomly add extra text here and there, which used to happen occasionally. See bugtracker issue #825. (jfs)
- Audio providers that did not downsample to 16-bit mono themselves (i.e. all of them except Avisynth) will now handle bitdepths other than 16-bit and channel configurations other than stereo/mono properly. See bugtracker issue #726. (jfs)
- Exporting to SRT will now automatically close all formatting tags properly. See bugtracker issue #809. (jfs)
- Using "replace next" from the search and replace dialog box will now mark the script as modified, as it should. (Harukalover)
- Audio playback will no longer stop early if the selection end marker is moved when using the "play audio to end of file" function. See bugtracker issue #687. (jfs)
- A corrupted hotkeys.dat file is no longer a fatal error. If the file is determined to be corrupted, the corrupted file will be copied to a backup (hotkeys.bak) and a new default one will be generated instead. (jfs)
- Using the layer edit box spin control will now update the value properly in all cases. See bugtracker issue #599. (jfs)
- Most video rendering errors (OpenGL failures) are no longer fatal. See bugtracker issue #799. (jfs)
- Certain regular expression search and replace operations will no longer cause infinite loops and program hangs. See bugtracker issue #859. (jfs)
- Undoing line insertions can no longer cause an invalid row to be selected. (Harukalover)
- Using the shift times function to shift the script by 0 seconds will now actually do nothing, as it should (previously it marked the script as changed and logged a shift by 0 seconds). See bugtracker issue #839. (jfs)
- The paste and paste over commands will now only be enabled if the clipboard contains plain text. See bugtracker issue #787. (jfs)
- The audio display is now repainted properly on audio playback, which prevents ugly glitches from appearing when the playback cursor passes the selection cursor, etc. See bugtracker issue #598. (jfs)
- The translation assistant dialog box will now remember its position correctly in all cases. (Harukalover)
- Exporting to the Adobe Encore subtitle format will no longer create invalid and broken files (they were missing syntactically important spaces). See bugtracker issue #890. (jfs)
- Trying to reload an Automation script that has been moved or deleted since it was loaded will no longer crash the program. See bugtracker issue #892. (jfs)
- The spell checker will now handle various Unicode punctuation properly. See bugtracker issue #710. (Plorkyeran)
- Changing the audio player with audio loaded will no longer cause the program to crash. See bugtracker issue #885. (jfs)
- Using the shift line(s) to current frame function (ctrl-6) will now update the time edit boxes properly. See bugtracker issue #897. (Harukalover)
- Fixed a few potential VFR issues, especially with the FFmpeg and DirectShow video providers. See bugtracker issue #864. (TheFluff)
- Fixed an issue that could occasionally cause a crash on exiting under some conditions. (TheFluff)
- Using the "set start/end to video" or "snap to scene" hotkey or toolbar buttons will no longer discard any uncommitted changes in the subtitles edit box. They now work like editing the time edit boxes instead. (Plorkyeran)
- Selecting a line via the visual typesetting drag mode will now update the grid selection too, which prevents the subtitle edit box out of synch with other controls. (Plorkyeran)

### Windows

- The FFMS2 providers will no longer crash when trying to open files with names that include characters that cannot be represented in the system local codepage. See bugtracker issues #808 and #810. (TheFluff)
- The visual typesetting toolbar should now look a bit prettier on Windows 7 and Vista; previously it had an odd themed background that didn't fit in with the surroundings. (jfs)
- The "portable application" options (save config.dat locally etc) will now actually work as intended. It's no longer settable from the options dialog; instead it's set at install time. See bugtracker issue #902. (jfs, Harukalover)

### Linux/\*BSD/MacOS X

- Aegisub will now restart itself properly after an options change that requires restarting. (verm)
- Fixed an issue in the subtitles grid that could cause the program to crash uncontrolledly under FreeBSD. (verm)
- Aegisub now defaults to using the correct ALSA default device on Linux. (jfs)
- The fonts collector will no longer crash on Unix systems. See bugtracker issue #561. (Harukalover)
- The video display can now be properly resized to be smaller on MacOS X. See bugtracker issue #742. (jfs)
- Aegisub will no longer throw up a lot of random OpenGL errors on MacOS X. See bugtracker issue #850. (jfs)
- Aegisub will no longer print an error about being unable to set the locale to en\_GB when starting on Linux. See bugtracker issue #846. (Patch by Pomyk.)
- The spectrum slider will now update the color spectrum properly on Linux. (Harukalover)
- The "overwrite-insertion" mode for the time edit boxes now works properly on Linux. (Harukalover)
- The time edit boxes will no longer be too small under platforms using wxGTK. (Harukalover)
- Aegisub will now actually copy files properly on Unix instead of attempting to create hard links of them. (jfs)

## Features added

- .stats is now a recognized filename extension for keyframe files. (amz)
- The OS X port now has a nice .dmg "installer". (verm)
- The DirectSound audio player has been rewritten to be more responsive and to have better threading. The old DirectSound audio player is still available, but is now called dsound-old. On Windows 7, the old one may be more reliable. (jfs)
- The FFMS2 providers will now automatically keep the cache of index files at a manageable size (previously it would never get emptied automatically ever); the default maximum is 42 MB/20 files. Removal is based on last access time (last used, first deleted). (TheFluff)
- Automation4-Perl now exports the Aegisub::Script::set\_undo\_point() function. This is mostly useless however, since Auto4-Perl currently only supports macros and those set the undo point automatically anyway. (TheFluff)
- The Automation4-Lua karaoke templater now supports variable loops and has had a few new utility functions added to it. See bugtracker issue #753. (jfs)
- Integer edit boxes in Automation4-Lua will now automatically get spin controls. If no min/max is specified, MININT/MAXINT is assumed. (jfs)
- The styling assistant is now a modeless dialog, so the user can access other controls within Aegisub without having to close the styling assistant. See bugtracker issue #397. (Harukalover)
- The style editor dialog box will now remember its position on screen, much like other dialog boxes in Aegisub. See bugtracker issue #607. (jfs)
- The detached video window will now keep the zoom level from the normal video display when opened. See bugtracker issue #491. (jfs)
- The kanji timer has been rewritten from scratch. Notable improvements include working on non-Windows platforms and better "smart" kanji <-> romaji mapping. See bugtracker issues #847 and #708.
- The FFmpeg video provider will now automatically read timecodes from the container. See bugtracker issue #864. (TheFluff)

## Features removed

- The "tip of the day" dialog has been removed as it was mostly useless. It may or may not return later in another form. (jfs)
- The "Avisynth renders its own subs" option has been removed as it was both massively broken (especially with VFR video) and strongly deprecated. (Plorkyeran, jfs)
- "Portable application" support has been removed from all non-Windows builds as it was heavily broken on everything that wasn't Windows. See bugtracker issue #856. (jfs)
- The color picker/color dropper tool has been removed from all non-Windows builds, since it only works on Windows and causes crashes everywhere else. It will return on non-Windows when a proper fix has been implemented. See bugtracker issue #861. (jfs)

## Other changes

- The Avisynth provider will now use FFMS2 where it used to use FFMS1. (TheFluff)
- The behavior of the audio autoscrolling mode has been changed to be more sensible when the line is too long to fit in the display. See bugtracker issue #677. (jfs)
- The grab zone for the split markers in the karaoke syllable splitter function has been widened from 4 to 7 pixels, making it easier to "hit" them. (jfs)
- The way the secondary color in the dummy video provider's checkerboard pattern is calculated has been changed so that it gives better results for dark colors.
- The styling assistant now requires a double-click to select a style. This should prevent issues with misclicking on a style when just trying to focus the assistant. (Harukalover)
- The FFmpeg audio and video providers are now considered deprecated; use the FFMS2 providers instead (they are superior in pretty much every possible way). (verm)
- The PortAudio player has been rewritten to use PortAudio v19 instead of v18. Should be more reliable in general now, but still has some minor issues. (verm)
- The splash screen and about box have both been changed to be less ANIMU KAWAII ^\_\_\_^ to make the program acceptable for use in a wider circle of people. See bugtracker issue #858. (jfs)
- The "overwrite-insertion" mode for the time edit boxes is now the default mode on all platforms, not just Windows. (Harukalover)

### External software updates

- FFMS2 has been updated from Beta 3 to SVN revision 115 (more or less Beta 10). See [its changelog](http://www.mod16.org/ffms2/ffms2-changelog.html) for full details. (Myrsloik, TheFluff)
- The "clean tags" automation script shipped with Aegisub has been updated. (ai-chan)
- libass has been updated to HEAD (as of 2009-07-13) from [greg's repository](http://greg.geekmind.org/viewgit). Many improvements have been made, including support for a lot more tags and less memory leaks. (greg, verm)

### New or updated translations

- Czech (updated)
- Finnish (new)
- French/France (new)
- German (updated)
- Japanese (updated/redone from scratch)
- Russian (updated/redone from scratch)
- Spanish/Castilian (updated)
